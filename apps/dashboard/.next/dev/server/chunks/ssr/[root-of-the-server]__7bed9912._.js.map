{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 112, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/tr/Desktop/Proje%20Klos%C3%B6r%C3%BC/React/flagship/apps/dashboard/lib/firebase.ts"],"sourcesContent":["import { initializeApp, getApps } from 'firebase/app';\r\nimport { getAuth } from 'firebase/auth';\r\nimport { getFirestore } from 'firebase/firestore';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\r\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\r\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\r\n};\r\n\r\n// Initialize Firebase (singleton pattern)\r\nconst app = getApps().length === 0 ? initializeApp(firebaseConfig) : getApps()[0];\r\n\r\nexport const auth = getAuth(app);\r\nexport const db = getFirestore(app);\r\nexport default app;\r\n"],"names":[],"mappings":";;;;;;;;AAAA;AAAA;AACA;AAAA;AACA;AAAA;;;;AAEA,MAAM,iBAAiB;IACrB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;AACP;AAEA,0CAA0C;AAC1C,MAAM,MAAM,IAAA,iOAAO,IAAG,MAAM,KAAK,IAAI,IAAA,uOAAa,EAAC,kBAAkB,IAAA,iOAAO,GAAE,CAAC,EAAE;AAE1E,MAAM,OAAO,IAAA,mOAAO,EAAC;AACrB,MAAM,KAAK,IAAA,uOAAY,EAAC;uCAChB"}},
    {"offset": {"line": 146, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/tr/Desktop/Proje%20Klos%C3%B6r%C3%BC/React/flagship/apps/dashboard/lib/animations.ts"],"sourcesContent":["// Client-side only anime.js wrapper with dynamic imports\nimport type React from 'react';\n\nconst isBrowser = typeof window !== 'undefined';\n\n// Dynamically import anime.js v3 only on client side\nlet animePromise: Promise<any> | null = null;\n\nconst loadAnime = () => {\n  if (!animePromise && isBrowser) {\n    animePromise = import('animejs').then(mod => mod.default);\n  }\n  return animePromise;\n};\n\n// Fade in animation\nexport const fadeIn = (targets: string | HTMLElement, delay = 0) => {\n  if (!isBrowser) return;\n  loadAnime()?.then((anime) => {\n    anime({\n      targets,\n      opacity: [0, 1],\n      translateY: [20, 0],\n      duration: 800,\n      delay,\n      easing: 'easeOutCubic'\n    });\n  });\n};\n\n// Fade in from left\nexport const fadeInLeft = (targets: string | HTMLElement, delay = 0) => {\n  if (!isBrowser) return;\n  loadAnime()?.then((anime) => {\n    anime({\n      targets,\n      opacity: [0, 1],\n      translateX: [-50, 0],\n      duration: 800,\n      delay,\n      easing: 'easeOutCubic'\n    });\n  });\n};\n\n// Fade in from right\nexport const fadeInRight = (targets: string | HTMLElement, delay = 0) => {\n  if (!isBrowser) return;\n  loadAnime()?.then((anime) => {\n    anime({\n      targets,\n      opacity: [0, 1],\n      translateX: [50, 0],\n      duration: 800,\n      delay,\n      easing: 'easeOutCubic'\n    });\n  });\n};\n\n// Scale in animation\nexport const scaleIn = (targets: string | HTMLElement, delay = 0) => {\n  if (!isBrowser) return;\n  loadAnime()?.then((anime) => {\n    anime({\n      targets,\n      opacity: [0, 1],\n      scale: [0.8, 1],\n      duration: 600,\n      delay,\n      easing: 'easeOutElastic(1, .6)'\n    });\n  });\n};\n\n// Stagger animation for multiple elements\nexport const staggerFadeIn = (targets: string | HTMLElement) => {\n  if (!isBrowser) return;\n  loadAnime()?.then((anime) => {\n    anime({\n      targets,\n      opacity: [0, 1],\n      translateY: [30, 0],\n      duration: 800,\n      delay: anime.stagger(100),\n      easing: 'easeOutCubic'\n    });\n  });\n};\n\n// Card hover animation\nexport const cardHover = (element: HTMLElement) => {\n  if (!isBrowser) return;\n  loadAnime()?.then((anime) => {\n    anime({\n      targets: element,\n      scale: 1.05,\n      translateY: -8,\n      duration: 300,\n      easing: 'easeOutCubic'\n    });\n  });\n};\n\n// Card hover end animation\nexport const cardHoverEnd = (element: HTMLElement) => {\n  if (!isBrowser) return;\n  loadAnime()?.then((anime) => {\n    anime({\n      targets: element,\n      scale: 1,\n      translateY: 0,\n      duration: 300,\n      easing: 'easeOutCubic'\n    });\n  });\n};\n\n// Pulse animation\nexport const pulse = (targets: string | HTMLElement) => {\n  if (!isBrowser) return;\n  loadAnime()?.then((anime) => {\n    anime({\n      targets,\n      scale: [1, 1.1, 1],\n      duration: 1000,\n      easing: 'easeInOutQuad',\n      loop: true\n    });\n  });\n};\n\n// Rotate animation\nexport const rotate = (targets: string | HTMLElement) => {\n  if (!isBrowser) return;\n  loadAnime()?.then((anime) => {\n    anime({\n      targets,\n      rotate: '1turn',\n      duration: 2000,\n      easing: 'linear',\n      loop: true\n    });\n  });\n};\n\n// Slide in from bottom\nexport const slideInBottom = (targets: string | HTMLElement, delay = 0) => {\n  if (!isBrowser) return;\n  loadAnime()?.then((anime) => {\n    anime({\n      targets,\n      opacity: [0, 1],\n      translateY: [100, 0],\n      duration: 1000,\n      delay,\n      easing: 'easeOutExpo'\n    });\n  });\n};\n\n// Bounce in\nexport const bounceIn = (targets: string | HTMLElement, delay = 0) => {\n  if (!isBrowser) return;\n  loadAnime()?.then((anime) => {\n    anime({\n      targets,\n      opacity: [0, 1],\n      scale: [0.3, 1],\n      duration: 800,\n      delay,\n      easing: 'easeOutElastic(1, .5)'\n    });\n  });\n};\n\n// Shake animation\nexport const shake = (targets: string | HTMLElement) => {\n  if (!isBrowser) return;\n  loadAnime()?.then((anime) => {\n    anime({\n      targets,\n      translateX: [\n        { value: -10, duration: 100 },\n        { value: 10, duration: 100 },\n        { value: -10, duration: 100 },\n        { value: 10, duration: 100 },\n        { value: 0, duration: 100 }\n      ],\n      easing: 'easeInOutSine'\n    });\n  });\n};\n\n// Wave animation for text\nexport const waveText = (targets: string) => {\n  if (!isBrowser) return;\n  const textWrapper = document.querySelector(targets);\n  if (textWrapper && textWrapper.textContent) {\n    textWrapper.innerHTML = textWrapper.textContent.replace(/\\S/g, \"<span class='letter'>$&</span>\");\n    \n    loadAnime()?.then((anime) => {\n      anime.timeline()\n        .add({\n          targets: `${targets} .letter`,\n          translateY: [-100, 0],\n          opacity: [0, 1],\n          easing: \"easeOutExpo\",\n          duration: 1400,\n          delay: (el: any, i: number) => 30 * i\n        });\n    });\n  }\n};\n\n// Page transition\nexport const pageTransition = (targets: string | HTMLElement) => {\n  if (!isBrowser) return;\n  loadAnime()?.then((anime) => {\n    anime.timeline()\n      .add({\n        targets,\n        opacity: [0, 1],\n        duration: 600,\n        easing: 'easeOutCubic'\n      })\n      .add({\n        targets: `${targets} > *`,\n        opacity: [0, 1],\n        translateY: [20, 0],\n        duration: 800,\n        delay: anime.stagger(100),\n        easing: 'easeOutCubic'\n      }, '-=400');\n  });\n};\n\n// Button ripple effect\nexport const buttonRipple = (e: React.MouseEvent<HTMLElement>) => {\n  if (!isBrowser) return;\n  const button = e.currentTarget;\n  const rect = button.getBoundingClientRect();\n  const x = e.clientX - rect.left;\n  const y = e.clientY - rect.top;\n  \n  const ripple = document.createElement('span');\n  ripple.style.cssText = `\n    position: absolute;\n    left: ${x}px;\n    top: ${y}px;\n    width: 0;\n    height: 0;\n    border-radius: 50%;\n    background: rgba(255, 255, 255, 0.6);\n    transform: translate(-50%, -50%);\n    pointer-events: none;\n  `;\n  \n  button.style.position = 'relative';\n  button.style.overflow = 'hidden';\n  button.appendChild(ripple);\n  \n  loadAnime()?.then((anime) => {\n    anime({\n      targets: ripple,\n      width: Math.max(rect.width, rect.height) * 2,\n      height: Math.max(rect.width, rect.height) * 2,\n      opacity: [0.6, 0],\n      duration: 600,\n      easing: 'easeOutQuad',\n      complete: () => ripple.remove()\n    });\n  });\n};\n\n// Number counter animation\nexport const animateNumber = (element: HTMLElement, target: number, duration = 2000) => {\n  if (!isBrowser) return;\n  const obj = { value: 0 };\n  loadAnime()?.then((anime) => {\n    anime({\n      targets: obj,\n      value: target,\n      duration,\n      easing: 'easeOutExpo',\n      round: 1,\n      update: () => {\n        element.textContent = obj.value.toLocaleString();\n      }\n    });\n  });\n};\n\n// Gradient animation\nexport const animateGradient = (targets: string | HTMLElement) => {\n  if (!isBrowser) return;\n  loadAnime()?.then((anime) => {\n    anime({\n      targets,\n      background: [\n        'linear-gradient(45deg, #0066FF, #00B8D4)',\n        'linear-gradient(135deg, #00B8D4, #0066FF)',\n        'linear-gradient(225deg, #0066FF, #00B8D4)',\n        'linear-gradient(315deg, #00B8D4, #0066FF)',\n        'linear-gradient(45deg, #0066FF, #00B8D4)'\n      ],\n      duration: 8000,\n      easing: 'linear',\n      loop: true\n    });\n  });\n};\n\r\n"],"names":[],"mappings":"AAAA,yDAAyD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGzD,MAAM,YAAY,kDAAkB;AAEpC,qDAAqD;AACrD,IAAI,eAAoC;AAExC,MAAM,YAAY;IAChB;;IAGA,OAAO;AACT;AAGO,MAAM,SAAS,CAAC,SAA+B,QAAQ,CAAC;IAC7D,wCAAgB;;;AAWlB;AAGO,MAAM,aAAa,CAAC,SAA+B,QAAQ,CAAC;IACjE,wCAAgB;;;AAWlB;AAGO,MAAM,cAAc,CAAC,SAA+B,QAAQ,CAAC;IAClE,wCAAgB;;;AAWlB;AAGO,MAAM,UAAU,CAAC,SAA+B,QAAQ,CAAC;IAC9D,wCAAgB;;;AAWlB;AAGO,MAAM,gBAAgB,CAAC;IAC5B,wCAAgB;;;AAWlB;AAGO,MAAM,YAAY,CAAC;IACxB,wCAAgB;;;AAUlB;AAGO,MAAM,eAAe,CAAC;IAC3B,wCAAgB;;;AAUlB;AAGO,MAAM,QAAQ,CAAC;IACpB,wCAAgB;;;AAUlB;AAGO,MAAM,SAAS,CAAC;IACrB,wCAAgB;;;AAUlB;AAGO,MAAM,gBAAgB,CAAC,SAA+B,QAAQ,CAAC;IACpE,wCAAgB;;;AAWlB;AAGO,MAAM,WAAW,CAAC,SAA+B,QAAQ,CAAC;IAC/D,wCAAgB;;;AAWlB;AAGO,MAAM,QAAQ,CAAC;IACpB,wCAAgB;;;AAclB;AAGO,MAAM,WAAW,CAAC;IACvB,wCAAgB;;;IAChB,MAAM;AAgBR;AAGO,MAAM,iBAAiB,CAAC;IAC7B,wCAAgB;;;AAkBlB;AAGO,MAAM,eAAe,CAAC;IAC3B,wCAAgB;;;IAChB,MAAM;IACN,MAAM;IACN,MAAM;IACN,MAAM;IAEN,MAAM;AA4BR;AAGO,MAAM,gBAAgB,CAAC,SAAsB,QAAgB,WAAW,IAAI;IACjF,wCAAgB;;;IAChB,MAAM;AAaR;AAGO,MAAM,kBAAkB,CAAC;IAC9B,wCAAgB;;;AAgBlB"}},
    {"offset": {"line": 287, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/tr/Desktop/Proje%20Klos%C3%B6r%C3%BC/React/flagship/apps/dashboard/app/dashboard/%5Bslug%5D/projects/%5BprojectKey%5D/webhooks/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport { useParams } from 'next/navigation';\r\nimport { db } from '@/lib/firebase';\r\nimport {\r\n  collection,\r\n  query,\r\n  where,\r\n  getDocs,\r\n  addDoc,\r\n  updateDoc,\r\n  deleteDoc,\r\n  doc,\r\n  serverTimestamp,\r\n} from 'firebase/firestore';\r\nimport { Webhook, WebhookEvent, WebhookProvider } from '@/lib/webhooks';\r\nimport { fadeIn, slideInBottom, staggerFadeIn, cardHover, cardHoverEnd } from '@/lib/animations';\r\n\r\nexport default function WebhooksPage() {\r\n  const params = useParams();\r\n  const projectKey = params.projectKey as string;\r\n  \r\n  const [webhooks, setWebhooks] = useState<Webhook[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showCreateModal, setShowCreateModal] = useState(false);\r\n  const [testingWebhook, setTestingWebhook] = useState<string | null>(null);\r\n\r\n  // Animation refs\r\n  const headerRef = useRef<HTMLDivElement>(null);\r\n  const contentRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    document.title = 'Webhooks | Flagship';\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    loadWebhooks();\r\n  }, [projectKey]);\r\n\r\n  async function loadWebhooks() {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      // Get project ID from project key\r\n      const projectsQuery = query(\r\n        collection(db, 'projects'),\r\n        where('key', '==', projectKey)\r\n      );\r\n      const projectSnapshot = await getDocs(projectsQuery);\r\n      \r\n      if (projectSnapshot.empty) return;\r\n      \r\n      const projectId = projectSnapshot.docs[0].id;\r\n      \r\n      // Get webhooks\r\n      const webhooksQuery = query(\r\n        collection(db, 'webhooks'),\r\n        where('projectId', '==', projectId)\r\n      );\r\n      const webhooksSnapshot = await getDocs(webhooksQuery);\r\n      \r\n      const webhooksData = webhooksSnapshot.docs.map(doc => ({\r\n        id: doc.id,\r\n        ...doc.data(),\r\n      })) as Webhook[];\r\n      \r\n      setWebhooks(webhooksData);\r\n    } catch (error) {\r\n      console.error('Error loading webhooks:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  // Mount animations\r\n  useEffect(() => {\r\n    if (headerRef.current) {\r\n      fadeIn(headerRef.current, { delay: 0 });\r\n    }\r\n    if (contentRef.current) {\r\n      slideInBottom(contentRef.current, { delay: 200 });\r\n    }\r\n  }, [loading]);\r\n\r\n  // Webhooks change animation\r\n  useEffect(() => {\r\n    const webhookCards = document.querySelectorAll('.webhook-card');\r\n    if (webhookCards.length > 0) {\r\n      staggerFadeIn(Array.from(webhookCards), { delay: 100 });\r\n    }\r\n  }, [webhooks]);\r\n\r\n  async function toggleWebhook(webhookId: string, enabled: boolean) {\r\n    try {\r\n      await updateDoc(doc(db, 'webhooks', webhookId), {\r\n        enabled,\r\n        updatedAt: serverTimestamp(),\r\n      });\r\n      \r\n      setWebhooks(prev =>\r\n        prev.map(w => (w.id === webhookId ? { ...w, enabled } : w))\r\n      );\r\n    } catch (error) {\r\n      console.error('Error toggling webhook:', error);\r\n    }\r\n  }\r\n\r\n  async function deleteWebhook(webhookId: string) {\r\n    if (!confirm('Are you sure you want to delete this webhook?')) return;\r\n    \r\n    try {\r\n      await deleteDoc(doc(db, 'webhooks', webhookId));\r\n      setWebhooks(prev => prev.filter(w => w.id !== webhookId));\r\n    } catch (error) {\r\n      console.error('Error deleting webhook:', error);\r\n    }\r\n  }\r\n\r\n  async function testWebhook(webhook: Webhook) {\r\n    setTestingWebhook(webhook.id);\r\n    \r\n    try {\r\n      const response = await fetch('/api/webhooks/test', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ webhookId: webhook.id }),\r\n      });\r\n      \r\n      const result = await response.json();\r\n      \r\n      if (result.success) {\r\n        alert('✅ Webhook test successful!');\r\n      } else {\r\n        alert(`❌ Webhook test failed: ${result.error}`);\r\n      }\r\n    } catch (error: any) {\r\n      alert(`❌ Error: ${error.message}`);\r\n    } finally {\r\n      setTestingWebhook(null);\r\n    }\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"p-8\">\r\n        <div className=\"animate-pulse space-y-4\">\r\n          <div className=\"h-8 bg-gray-200 rounded w-1/4\"></div>\r\n          <div className=\"h-64 bg-gray-200 rounded\"></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 p-8\">\r\n      <div className=\"max-w-7xl mx-auto\">\r\n        <div ref={headerRef} className=\"flex justify-between items-center mb-6\">\r\n          <div>\r\n            <h1 className=\"text-3xl font-bold text-gray-900\">Webhooks</h1>\r\n            <p className=\"text-gray-600 mt-1\">\r\n              Get notified when flags change\r\n            </p>\r\n          </div>\r\n        \r\n        <button\r\n          onClick={() => setShowCreateModal(true)}\r\n          className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\r\n        >\r\n          + Create Webhook\r\n        </button>\r\n      </div>\r\n\r\n      {webhooks.length === 0 ? (\r\n        <div className=\"text-center py-12 bg-white rounded-lg border\">\r\n          <svg\r\n            className=\"mx-auto h-12 w-12 text-gray-400\"\r\n            fill=\"none\"\r\n            viewBox=\"0 0 24 24\"\r\n            stroke=\"currentColor\"\r\n          >\r\n            <path\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              strokeWidth={2}\r\n              d=\"M13 10V3L4 14h7v7l9-11h-7z\"\r\n            />\r\n          </svg>\r\n          <h3 className=\"mt-2 text-sm font-medium text-gray-900\">No webhooks</h3>\r\n          <p className=\"mt-1 text-sm text-gray-500\">\r\n            Get started by creating a new webhook.\r\n          </p>\r\n          <div className=\"mt-6\">\r\n            <button\r\n              onClick={() => setShowCreateModal(true)}\r\n              className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\r\n            >\r\n              Create Webhook\r\n            </button>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div ref={contentRef} className=\"bg-white rounded-lg border overflow-hidden\">\r\n          <table className=\"min-w-full divide-y divide-gray-200\">\r\n            <thead className=\"bg-gray-50\">\r\n              <tr>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Name\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Provider\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Events\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Status\r\n                </th>\r\n                <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Actions\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"bg-white divide-y divide-gray-200\">\r\n              {webhooks.map(webhook => (\r\n                <tr key={webhook.id} className=\"webhook-card\"\r\n                  onMouseEnter={(e) => cardHover(e.currentTarget)}\r\n                  onMouseLeave={(e) => cardHoverEnd(e.currentTarget)}\r\n                >\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                    <div className=\"text-sm font-medium text-gray-900\">\r\n                      {webhook.name}\r\n                    </div>\r\n                    <div className=\"text-sm text-gray-500 truncate max-w-xs\">\r\n                      {webhook.url}\r\n                    </div>\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                    <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 capitalize\">\r\n                      {webhook.provider}\r\n                    </span>\r\n                  </td>\r\n                  <td className=\"px-6 py-4\">\r\n                    <div className=\"flex flex-wrap gap-1\">\r\n                      {webhook.events.map(event => (\r\n                        <span\r\n                          key={event}\r\n                          className=\"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800\"\r\n                        >\r\n                          {event}\r\n                        </span>\r\n                      ))}\r\n                    </div>\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                    <label className=\"relative inline-flex items-center cursor-pointer\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={webhook.enabled}\r\n                        onChange={e => toggleWebhook(webhook.id, e.target.checked)}\r\n                        className=\"sr-only peer\"\r\n                      />\r\n                      <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\r\n                    </label>\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2\">\r\n                    <button\r\n                      onClick={() => testWebhook(webhook)}\r\n                      disabled={testingWebhook === webhook.id}\r\n                      className=\"text-blue-600 hover:text-blue-900 disabled:opacity-50\"\r\n                    >\r\n                      {testingWebhook === webhook.id ? 'Testing...' : 'Test'}\r\n                    </button>\r\n                    <button\r\n                      onClick={() => deleteWebhook(webhook.id)}\r\n                      className=\"text-red-600 hover:text-red-900\"\r\n                    >\r\n                      Delete\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      )}\r\n\r\n      {showCreateModal && (\r\n        <CreateWebhookModal\r\n          projectKey={projectKey}\r\n          onClose={() => setShowCreateModal(false)}\r\n          onSuccess={() => {\r\n            loadWebhooks();\r\n            setShowCreateModal(false);\r\n          }}\r\n        />\r\n      )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction CreateWebhookModal({\r\n  projectKey,\r\n  onClose,\r\n  onSuccess,\r\n}: {\r\n  projectKey: string;\r\n  onClose: () => void;\r\n  onSuccess: () => void;\r\n}) {\r\n  const [name, setName] = useState('');\r\n  const [url, setUrl] = useState('');\r\n  const [provider, setProvider] = useState<WebhookProvider>('custom');\r\n  const [selectedEvents, setSelectedEvents] = useState<WebhookEvent[]>([]);\r\n  const [secret, setSecret] = useState('');\r\n  const [creating, setCreating] = useState(false);\r\n\r\n  const availableEvents: WebhookEvent[] = [\r\n    'flag.created',\r\n    'flag.updated',\r\n    'flag.deleted',\r\n    'flag.toggled',\r\n    'targeting.updated',\r\n  ];\r\n\r\n  function toggleEvent(event: WebhookEvent) {\r\n    setSelectedEvents(prev =>\r\n      prev.includes(event)\r\n        ? prev.filter(e => e !== event)\r\n        : [...prev, event]\r\n    );\r\n  }\r\n\r\n  async function handleCreate() {\r\n    if (!name || !url || selectedEvents.length === 0) {\r\n      alert('Please fill in all required fields');\r\n      return;\r\n    }\r\n\r\n    setCreating(true);\r\n\r\n    try {\r\n      // Get project ID\r\n      const projectsQuery = query(\r\n        collection(db, 'projects'),\r\n        where('key', '==', projectKey)\r\n      );\r\n      const projectSnapshot = await getDocs(projectsQuery);\r\n      \r\n      if (projectSnapshot.empty) {\r\n        throw new Error('Project not found');\r\n      }\r\n      \r\n      const projectId = projectSnapshot.docs[0].id;\r\n\r\n      await addDoc(collection(db, 'webhooks'), {\r\n        projectId,\r\n        name,\r\n        url,\r\n        provider,\r\n        events: selectedEvents,\r\n        enabled: true,\r\n        secret: secret || null,\r\n        createdAt: serverTimestamp(),\r\n        updatedAt: serverTimestamp(),\r\n      });\r\n\r\n      onSuccess();\r\n    } catch (error) {\r\n      console.error('Error creating webhook:', error);\r\n      alert('Failed to create webhook');\r\n    } finally {\r\n      setCreating(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-50\">\r\n      <div className=\"bg-white rounded-lg shadow-2xl p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto\">\r\n        <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">Create Webhook</h2>\r\n\r\n        <div className=\"space-y-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              Name *\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              value={name}\r\n              onChange={e => setName(e.target.value)}\r\n              className=\"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              placeholder=\"Production Slack Notifications\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              Provider *\r\n            </label>\r\n            <select\r\n              value={provider}\r\n              onChange={e => setProvider(e.target.value as WebhookProvider)}\r\n              className=\"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n            >\r\n              <option value=\"custom\">Custom</option>\r\n              <option value=\"slack\">Slack</option>\r\n              <option value=\"discord\">Discord</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              Webhook URL *\r\n            </label>\r\n            <input\r\n              type=\"url\"\r\n              value={url}\r\n              onChange={e => setUrl(e.target.value)}\r\n              className=\"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              placeholder=\"https://hooks.slack.com/services/...\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Events to Listen *\r\n            </label>\r\n            <div className=\"space-y-2\">\r\n              {availableEvents.map(event => (\r\n                <label key={event} className=\"flex items-center space-x-2\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={selectedEvents.includes(event)}\r\n                    onChange={() => toggleEvent(event)}\r\n                    className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\r\n                  />\r\n                  <span className=\"text-sm\">{event}</span>\r\n                </label>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              Secret (optional)\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              value={secret}\r\n              onChange={e => setSecret(e.target.value)}\r\n              className=\"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              placeholder=\"Used to sign webhook payloads\"\r\n            />\r\n            <p className=\"text-xs text-gray-500 mt-1\">\r\n              If provided, payloads will be signed with HMAC-SHA256\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex justify-end space-x-3 mt-6\">\r\n          <button\r\n            onClick={onClose}\r\n            disabled={creating}\r\n            className=\"px-4 py-2 text-gray-700 border rounded-lg hover:bg-gray-50\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            onClick={handleCreate}\r\n            disabled={creating}\r\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50\"\r\n          >\r\n            {creating ? 'Creating...' : 'Create Webhook'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AAYA;AAjBA;;;;;;;AAmBe,SAAS;IACtB,MAAM,SAAS,IAAA,qMAAS;IACxB,MAAM,aAAa,OAAO,UAAU;IAEpC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,uQAAQ,EAAY,EAAE;IACtD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,uQAAQ,EAAC;IACvC,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,uQAAQ,EAAC;IACvD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,uQAAQ,EAAgB;IAEpE,iBAAiB;IACjB,MAAM,YAAY,IAAA,qQAAM,EAAiB;IACzC,MAAM,aAAa,IAAA,qQAAM,EAAiB;IAE1C,IAAA,wQAAS,EAAC;QACR,SAAS,KAAK,GAAG;IACnB,GAAG,EAAE;IAEL,IAAA,wQAAS,EAAC;QACR;IACF,GAAG;QAAC;KAAW;IAEf,eAAe;QACb,IAAI;YACF,WAAW;YAEX,kCAAkC;YAClC,MAAM,gBAAgB,IAAA,gOAAK,EACzB,IAAA,qOAAU,EAAC,gMAAE,EAAE,aACf,IAAA,gOAAK,EAAC,OAAO,MAAM;YAErB,MAAM,kBAAkB,MAAM,IAAA,kOAAO,EAAC;YAEtC,IAAI,gBAAgB,KAAK,EAAE;YAE3B,MAAM,YAAY,gBAAgB,IAAI,CAAC,EAAE,CAAC,EAAE;YAE5C,eAAe;YACf,MAAM,gBAAgB,IAAA,gOAAK,EACzB,IAAA,qOAAU,EAAC,gMAAE,EAAE,aACf,IAAA,gOAAK,EAAC,aAAa,MAAM;YAE3B,MAAM,mBAAmB,MAAM,IAAA,kOAAO,EAAC;YAEvC,MAAM,eAAe,iBAAiB,IAAI,CAAC,GAAG,CAAC,CAAA,MAAO,CAAC;oBACrD,IAAI,IAAI,EAAE;oBACV,GAAG,IAAI,IAAI,EAAE;gBACf,CAAC;YAED,YAAY;QACd,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,2BAA2B;QAC3C,SAAU;YACR,WAAW;QACb;IACF;IAEA,mBAAmB;IACnB,IAAA,wQAAS,EAAC;QACR,IAAI,UAAU,OAAO,EAAE;YACrB,IAAA,sMAAM,EAAC,UAAU,OAAO,EAAE;gBAAE,OAAO;YAAE;QACvC;QACA,IAAI,WAAW,OAAO,EAAE;YACtB,IAAA,6MAAa,EAAC,WAAW,OAAO,EAAE;gBAAE,OAAO;YAAI;QACjD;IACF,GAAG;QAAC;KAAQ;IAEZ,4BAA4B;IAC5B,IAAA,wQAAS,EAAC;QACR,MAAM,eAAe,SAAS,gBAAgB,CAAC;QAC/C,IAAI,aAAa,MAAM,GAAG,GAAG;YAC3B,IAAA,6MAAa,EAAC,MAAM,IAAI,CAAC,eAAe;gBAAE,OAAO;YAAI;QACvD;IACF,GAAG;QAAC;KAAS;IAEb,eAAe,cAAc,SAAiB,EAAE,OAAgB;QAC9D,IAAI;YACF,MAAM,IAAA,oOAAS,EAAC,IAAA,8NAAG,EAAC,gMAAE,EAAE,YAAY,YAAY;gBAC9C;gBACA,WAAW,IAAA,0OAAe;YAC5B;YAEA,YAAY,CAAA,OACV,KAAK,GAAG,CAAC,CAAA,IAAM,EAAE,EAAE,KAAK,YAAY;wBAAE,GAAG,CAAC;wBAAE;oBAAQ,IAAI;QAE5D,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,2BAA2B;QAC3C;IACF;IAEA,eAAe,cAAc,SAAiB;QAC5C,IAAI,CAAC,QAAQ,kDAAkD;QAE/D,IAAI;YACF,MAAM,IAAA,oOAAS,EAAC,IAAA,8NAAG,EAAC,gMAAE,EAAE,YAAY;YACpC,YAAY,CAAA,OAAQ,KAAK,MAAM,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;QAChD,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,2BAA2B;QAC3C;IACF;IAEA,eAAe,YAAY,OAAgB;QACzC,kBAAkB,QAAQ,EAAE;QAE5B,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,sBAAsB;gBACjD,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE,WAAW,QAAQ,EAAE;gBAAC;YAC/C;YAEA,MAAM,SAAS,MAAM,SAAS,IAAI;YAElC,IAAI,OAAO,OAAO,EAAE;gBAClB,MAAM;YACR,OAAO;gBACL,MAAM,CAAC,uBAAuB,EAAE,OAAO,KAAK,EAAE;YAChD;QACF,EAAE,OAAO,OAAY;YACnB,MAAM,CAAC,SAAS,EAAE,MAAM,OAAO,EAAE;QACnC,SAAU;YACR,kBAAkB;QACpB;IACF;IAEA,IAAI,SAAS;QACX,qBACE,oSAAC;YAAI,WAAU;sBACb,cAAA,oSAAC;gBAAI,WAAU;;kCACb,oSAAC;wBAAI,WAAU;;;;;;kCACf,oSAAC;wBAAI,WAAU;;;;;;;;;;;;;;;;;IAIvB;IAEA,qBACE,oSAAC;QAAI,WAAU;kBACb,cAAA,oSAAC;YAAI,WAAU;;8BACb,oSAAC;oBAAI,KAAK;oBAAW,WAAU;;sCAC7B,oSAAC;;8CACC,oSAAC;oCAAG,WAAU;8CAAmC;;;;;;8CACjD,oSAAC;oCAAE,WAAU;8CAAqB;;;;;;;;;;;;sCAKtC,oSAAC;4BACC,SAAS,IAAM,mBAAmB;4BAClC,WAAU;sCACX;;;;;;;;;;;;gBAKF,SAAS,MAAM,KAAK,kBACnB,oSAAC;oBAAI,WAAU;;sCACb,oSAAC;4BACC,WAAU;4BACV,MAAK;4BACL,SAAQ;4BACR,QAAO;sCAEP,cAAA,oSAAC;gCACC,eAAc;gCACd,gBAAe;gCACf,aAAa;gCACb,GAAE;;;;;;;;;;;sCAGN,oSAAC;4BAAG,WAAU;sCAAyC;;;;;;sCACvD,oSAAC;4BAAE,WAAU;sCAA6B;;;;;;sCAG1C,oSAAC;4BAAI,WAAU;sCACb,cAAA,oSAAC;gCACC,SAAS,IAAM,mBAAmB;gCAClC,WAAU;0CACX;;;;;;;;;;;;;;;;yCAML,oSAAC;oBAAI,KAAK;oBAAY,WAAU;8BAC9B,cAAA,oSAAC;wBAAM,WAAU;;0CACf,oSAAC;gCAAM,WAAU;0CACf,cAAA,oSAAC;;sDACC,oSAAC;4CAAG,WAAU;sDAAiF;;;;;;sDAG/F,oSAAC;4CAAG,WAAU;sDAAiF;;;;;;sDAG/F,oSAAC;4CAAG,WAAU;sDAAiF;;;;;;sDAG/F,oSAAC;4CAAG,WAAU;sDAAiF;;;;;;sDAG/F,oSAAC;4CAAG,WAAU;sDAAkF;;;;;;;;;;;;;;;;;0CAKpG,oSAAC;gCAAM,WAAU;0CACd,SAAS,GAAG,CAAC,CAAA,wBACZ,oSAAC;wCAAoB,WAAU;wCAC7B,cAAc,CAAC,IAAM,IAAA,yMAAS,EAAC,EAAE,aAAa;wCAC9C,cAAc,CAAC,IAAM,IAAA,4MAAY,EAAC,EAAE,aAAa;;0DAEjD,oSAAC;gDAAG,WAAU;;kEACZ,oSAAC;wDAAI,WAAU;kEACZ,QAAQ,IAAI;;;;;;kEAEf,oSAAC;wDAAI,WAAU;kEACZ,QAAQ,GAAG;;;;;;;;;;;;0DAGhB,oSAAC;gDAAG,WAAU;0DACZ,cAAA,oSAAC;oDAAK,WAAU;8DACb,QAAQ,QAAQ;;;;;;;;;;;0DAGrB,oSAAC;gDAAG,WAAU;0DACZ,cAAA,oSAAC;oDAAI,WAAU;8DACZ,QAAQ,MAAM,CAAC,GAAG,CAAC,CAAA,sBAClB,oSAAC;4DAEC,WAAU;sEAET;2DAHI;;;;;;;;;;;;;;;0DAQb,oSAAC;gDAAG,WAAU;0DACZ,cAAA,oSAAC;oDAAM,WAAU;;sEACf,oSAAC;4DACC,MAAK;4DACL,SAAS,QAAQ,OAAO;4DACxB,UAAU,CAAA,IAAK,cAAc,QAAQ,EAAE,EAAE,EAAE,MAAM,CAAC,OAAO;4DACzD,WAAU;;;;;;sEAEZ,oSAAC;4DAAI,WAAU;;;;;;;;;;;;;;;;;0DAGnB,oSAAC;gDAAG,WAAU;;kEACZ,oSAAC;wDACC,SAAS,IAAM,YAAY;wDAC3B,UAAU,mBAAmB,QAAQ,EAAE;wDACvC,WAAU;kEAET,mBAAmB,QAAQ,EAAE,GAAG,eAAe;;;;;;kEAElD,oSAAC;wDACC,SAAS,IAAM,cAAc,QAAQ,EAAE;wDACvC,WAAU;kEACX;;;;;;;;;;;;;uCAnDI,QAAQ,EAAE;;;;;;;;;;;;;;;;;;;;;gBA8D5B,iCACC,oSAAC;oBACC,YAAY;oBACZ,SAAS,IAAM,mBAAmB;oBAClC,WAAW;wBACT;wBACA,mBAAmB;oBACrB;;;;;;;;;;;;;;;;;AAMV;AAEA,SAAS,mBAAmB,EAC1B,UAAU,EACV,OAAO,EACP,SAAS,EAKV;IACC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,uQAAQ,EAAC;IACjC,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,uQAAQ,EAAC;IAC/B,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,uQAAQ,EAAkB;IAC1D,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,uQAAQ,EAAiB,EAAE;IACvE,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,uQAAQ,EAAC;IACrC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,uQAAQ,EAAC;IAEzC,MAAM,kBAAkC;QACtC;QACA;QACA;QACA;QACA;KACD;IAED,SAAS,YAAY,KAAmB;QACtC,kBAAkB,CAAA,OAChB,KAAK,QAAQ,CAAC,SACV,KAAK,MAAM,CAAC,CAAA,IAAK,MAAM,SACvB;mBAAI;gBAAM;aAAM;IAExB;IAEA,eAAe;QACb,IAAI,CAAC,QAAQ,CAAC,OAAO,eAAe,MAAM,KAAK,GAAG;YAChD,MAAM;YACN;QACF;QAEA,YAAY;QAEZ,IAAI;YACF,iBAAiB;YACjB,MAAM,gBAAgB,IAAA,gOAAK,EACzB,IAAA,qOAAU,EAAC,gMAAE,EAAE,aACf,IAAA,gOAAK,EAAC,OAAO,MAAM;YAErB,MAAM,kBAAkB,MAAM,IAAA,kOAAO,EAAC;YAEtC,IAAI,gBAAgB,KAAK,EAAE;gBACzB,MAAM,IAAI,MAAM;YAClB;YAEA,MAAM,YAAY,gBAAgB,IAAI,CAAC,EAAE,CAAC,EAAE;YAE5C,MAAM,IAAA,iOAAM,EAAC,IAAA,qOAAU,EAAC,gMAAE,EAAE,aAAa;gBACvC;gBACA;gBACA;gBACA;gBACA,QAAQ;gBACR,SAAS;gBACT,QAAQ,UAAU;gBAClB,WAAW,IAAA,0OAAe;gBAC1B,WAAW,IAAA,0OAAe;YAC5B;YAEA;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,2BAA2B;YACzC,MAAM;QACR,SAAU;YACR,YAAY;QACd;IACF;IAEA,qBACE,oSAAC;QAAI,WAAU;kBACb,cAAA,oSAAC;YAAI,WAAU;;8BACb,oSAAC;oBAAG,WAAU;8BAAwC;;;;;;8BAEtD,oSAAC;oBAAI,WAAU;;sCACb,oSAAC;;8CACC,oSAAC;oCAAM,WAAU;8CAA+C;;;;;;8CAGhE,oSAAC;oCACC,MAAK;oCACL,OAAO;oCACP,UAAU,CAAA,IAAK,QAAQ,EAAE,MAAM,CAAC,KAAK;oCACrC,WAAU;oCACV,aAAY;;;;;;;;;;;;sCAIhB,oSAAC;;8CACC,oSAAC;oCAAM,WAAU;8CAA+C;;;;;;8CAGhE,oSAAC;oCACC,OAAO;oCACP,UAAU,CAAA,IAAK,YAAY,EAAE,MAAM,CAAC,KAAK;oCACzC,WAAU;;sDAEV,oSAAC;4CAAO,OAAM;sDAAS;;;;;;sDACvB,oSAAC;4CAAO,OAAM;sDAAQ;;;;;;sDACtB,oSAAC;4CAAO,OAAM;sDAAU;;;;;;;;;;;;;;;;;;sCAI5B,oSAAC;;8CACC,oSAAC;oCAAM,WAAU;8CAA+C;;;;;;8CAGhE,oSAAC;oCACC,MAAK;oCACL,OAAO;oCACP,UAAU,CAAA,IAAK,OAAO,EAAE,MAAM,CAAC,KAAK;oCACpC,WAAU;oCACV,aAAY;;;;;;;;;;;;sCAIhB,oSAAC;;8CACC,oSAAC;oCAAM,WAAU;8CAA+C;;;;;;8CAGhE,oSAAC;oCAAI,WAAU;8CACZ,gBAAgB,GAAG,CAAC,CAAA,sBACnB,oSAAC;4CAAkB,WAAU;;8DAC3B,oSAAC;oDACC,MAAK;oDACL,SAAS,eAAe,QAAQ,CAAC;oDACjC,UAAU,IAAM,YAAY;oDAC5B,WAAU;;;;;;8DAEZ,oSAAC;oDAAK,WAAU;8DAAW;;;;;;;2CAPjB;;;;;;;;;;;;;;;;sCAalB,oSAAC;;8CACC,oSAAC;oCAAM,WAAU;8CAA+C;;;;;;8CAGhE,oSAAC;oCACC,MAAK;oCACL,OAAO;oCACP,UAAU,CAAA,IAAK,UAAU,EAAE,MAAM,CAAC,KAAK;oCACvC,WAAU;oCACV,aAAY;;;;;;8CAEd,oSAAC;oCAAE,WAAU;8CAA6B;;;;;;;;;;;;;;;;;;8BAM9C,oSAAC;oBAAI,WAAU;;sCACb,oSAAC;4BACC,SAAS;4BACT,UAAU;4BACV,WAAU;sCACX;;;;;;sCAGD,oSAAC;4BACC,SAAS;4BACT,UAAU;4BACV,WAAU;sCAET,WAAW,gBAAgB;;;;;;;;;;;;;;;;;;;;;;;AAMxC"}}]
}