module.exports=[67581,a=>{"use strict";var b=a.i(71022);a.i(70853);var c=a.i(3837);function d(a,b){switch(a.provider){case"slack":return function(a){let{event:b,data:c,timestamp:d}=a,f=e(b),g=function(a){switch(a){case"flag.created":return"good";case"flag.updated":return"warning";case"flag.deleted":return"danger";case"flag.toggled":return"#36a64f";case"targeting.updated":return"#439FE0";default:return"#808080"}}(b);return{text:`${f} Feature Flag Event: ${b}`,attachments:[{color:g,fields:[{title:"Event",value:b,short:!0},{title:"Flag",value:c.flagKey||"N/A",short:!0},{title:"Action",value:c.action,short:!0},{title:"Actor",value:c.actor||"System",short:!0},...c.changes?[{title:"Changes",value:`\`\`\`${JSON.stringify(c.changes,null,2)}\`\`\``,short:!1}]:[]],footer:"Flagship Feature Flags",ts:new Date(d).getTime()/1e3}]}}(b);case"discord":return function(a){let{event:b,data:c,timestamp:d}=a,f=e(b),g=function(a){switch(a){case"flag.created":return 3581519;case"flag.updated":return 0xff9800;case"flag.deleted":return 0xf44336;case"flag.toggled":return 2201331;case"targeting.updated":return 0x9c27b0;default:return 8421504}}(b);return{content:`${f} **Feature Flag Event:** ${b}`,embeds:[{color:g,fields:[{name:"Event",value:b,inline:!0},{name:"Flag",value:c.flagKey||"N/A",inline:!0},{name:"Action",value:c.action,inline:!0},{name:"Actor",value:c.actor||"System",inline:!0},...c.changes?[{name:"Changes",value:`\`\`\`json
${JSON.stringify(c.changes,null,2)}
\`\`\``,inline:!1}]:[]],footer:{text:"Flagship Feature Flags"},timestamp:d}]}}(b);default:return b}}function e(a){switch(a){case"flag.created":return"ðŸŽ‰";case"flag.updated":return"âœï¸";case"flag.deleted":return"ðŸ—‘ï¸";case"flag.toggled":return"ðŸ”„";case"targeting.updated":return"ðŸŽ¯";default:return"ðŸ“¢"}}async function f(a,b){if(!a.enabled)return{success:!1,error:"Webhook is disabled"};try{let c=d(a,b),e={"Content-Type":"application/json","User-Agent":"Flagship-Webhooks/1.0",...a.headers||{}};if(a.secret){let b=await g(JSON.stringify(c),a.secret);e["X-Flagship-Signature"]=b}let f=await fetch(a.url,{method:"POST",headers:e,body:JSON.stringify(c),signal:AbortSignal.timeout(1e4)}),i=f.ok,j=f.status;return await h({webhookId:a.id,event:b.event,payload:b,status:i?"success":"failed",statusCode:j,response:i?await f.text():void 0,error:i?void 0:`HTTP ${j}: ${f.statusText}`,attemptCount:1}),{success:i,statusCode:j}}catch(c){return await h({webhookId:a.id,event:b.event,payload:b,status:"failed",error:c.message,attemptCount:1}),{success:!1,error:c.message}}}async function g(a,b){let c=new TextEncoder,d=c.encode(a),e=c.encode(b),f=await crypto.subtle.importKey("raw",e,{name:"HMAC",hash:"SHA-256"},!1,["sign"]);return Array.from(new Uint8Array(await crypto.subtle.sign("HMAC",f,d))).map(a=>a.toString(16).padStart(2,"0")).join("")}async function h(a){try{await (0,c.addDoc)((0,c.collection)(b.db,"webhook_deliveries"),{...a,createdAt:(0,c.serverTimestamp)(),deliveredAt:"success"===a.status?(0,c.serverTimestamp)():null})}catch(a){console.error("Failed to log webhook delivery:",a)}}async function i(c,d,e){let{collection:g,query:h,where:i,getDocs:j}=await a.A(23009);try{let a=h(g(b.db,"webhooks"),i("projectId","==",c),i("enabled","==",!0),i("events","array-contains",d)),k=await j(a);if(k.empty)return;let l={event:d,timestamp:new Date().toISOString(),projectId:c,data:e},m=k.docs.map(a=>{let b={id:a.id,...a.data()};return f(b,l)});await Promise.allSettled(m)}catch(a){console.error("Failed to trigger webhooks:",a)}}a.s(["formatWebhookPayload",()=>d,"sendWebhook",()=>f,"triggerWebhooks",()=>i])},23009,a=>{a.v(b=>Promise.all(["server/chunks/ssr/34e88_firebase_firestore_dist_index_mjs_aab4fc0d._.js"].map(b=>a.l(b))).then(()=>b(15964)))}];

//# sourceMappingURL=Desktop_Proje%20Klos%C3%B6r%C3%BC_React_flagship_160ce42f._.js.map