{"version":3,"sources":["../../../../../../../../../../Desktop/Proje%20Klos%C3%B6r%C3%BC/React/flagship/apps/dashboard/app/dashboard/%5Bslug%5D/projects/%5BprojectKey%5D/page.tsx","../../../../../../../../../../Desktop/Proje%20Klos%C3%B6r%C3%BC/React/flagship/apps/dashboard/components/DashboardNav.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState, useRef } from 'react';\r\nimport { onAuthStateChanged, User } from 'firebase/auth';\r\nimport { auth, db } from '@/lib/firebase';\r\nimport { useRouter, useParams } from 'next/navigation';\r\nimport { collection, query, where, getDocs, doc, updateDoc } from 'firebase/firestore';\r\nimport { COLLECTIONS, createFeatureFlag, createAuditLog } from '@/lib/firestore';\r\nimport toast from 'react-hot-toast';\r\nimport DashboardNav from '@/components/DashboardNav';\r\nimport { fadeIn, slideInBottom, staggerFadeIn, scaleIn, cardHover, cardHoverEnd } from '@/lib/animations';\r\n\r\ninterface Project {\r\n  id: string;\r\n  name: string;\r\n  key: string;\r\n  organizationId: string;\r\n}\r\n\r\ninterface Organization {\r\n  id: string;\r\n  name: string;\r\n  slug: string;\r\n}\r\n\r\ninterface Environment {\r\n  id: string;\r\n  name: string;\r\n  key: string;\r\n}\r\n\r\ninterface FeatureFlag {\r\n  id: string;\r\n  name: string;\r\n  key: string;\r\n  description?: string;\r\n  flagType: 'boolean' | 'multivariate' | 'number' | 'json';\r\n  defaultValue: any;\r\n  tags: string[];\r\n}\r\n\r\ninterface FlagValue {\r\n  id: string;\r\n  flagId: string;\r\n  environmentId: string;\r\n  enabled: boolean;\r\n  value: any;\r\n}\r\n\r\nexport default function ProjectPage() {\r\n  const params = useParams();\r\n  const slug = params.slug as string;\r\n  const projectKey = params.projectKey as string;\r\n  const router = useRouter();\r\n  \r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [project, setProject] = useState<Project | null>(null);\r\n  const [organization, setOrganization] = useState<Organization | null>(null);\r\n  const [environments, setEnvironments] = useState<Environment[]>([]);\r\n  const [selectedEnv, setSelectedEnv] = useState<string>('');\r\n  const [flags, setFlags] = useState<FeatureFlag[]>([]);\r\n  const [flagValues, setFlagValues] = useState<FlagValue[]>([]);\r\n  const [showCreateForm, setShowCreateForm] = useState(false);\r\n  const [togglingFlag, setTogglingFlag] = useState<string | null>(null);\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    key: '',\r\n    description: '',\r\n    flagType: 'boolean' as const,\r\n    defaultValue: false,\r\n  });\r\n  const [creating, setCreating] = useState(false);\r\n\r\n  // Animation refs\r\n  const headerRef = useRef<HTMLDivElement>(null);\r\n  const contentRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (project) {\r\n      document.title = `${project.name} | Flagship`;\r\n    }\r\n  }, [project]);\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = onAuthStateChanged(auth, async (user) => {\r\n      if (user) {\r\n        setUser(user);\r\n        await loadProject();\r\n      } else {\r\n        router.push('/login');\r\n      }\r\n      setLoading(false);\r\n    });\r\n\r\n    return () => unsubscribe();\r\n  }, [router, projectKey]);\r\n\r\n  const loadProject = async () => {\r\n    try {\r\n      const q = query(collection(db, COLLECTIONS.PROJECTS), where('key', '==', projectKey));\r\n      const snapshot = await getDocs(q);\r\n      \r\n      if (!snapshot.empty) {\r\n        const projectData = { id: snapshot.docs[0].id, ...snapshot.docs[0].data() } as Project;\r\n        setProject(projectData);\r\n        \r\n        // Load organization\r\n        const orgQ = query(collection(db, COLLECTIONS.ORGANIZATIONS), where('slug', '==', slug));\r\n        const orgSnapshot = await getDocs(orgQ);\r\n        if (!orgSnapshot.empty) {\r\n          setOrganization({ id: orgSnapshot.docs[0].id, ...orgSnapshot.docs[0].data() } as Organization);\r\n        }\r\n        \r\n        await loadEnvironments(projectData.id);\r\n        await loadFlags(projectData.id);\r\n      } else {\r\n        router.push(`/dashboard/${slug}`);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading project:', error);\r\n    }\r\n  };\r\n\r\n  const loadEnvironments = async (projectId: string) => {\r\n    try {\r\n      const q = query(collection(db, COLLECTIONS.ENVIRONMENTS), where('projectId', '==', projectId));\r\n      const snapshot = await getDocs(q);\r\n      const envList = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() })) as Environment[];\r\n      setEnvironments(envList);\r\n      if (envList.length > 0) {\r\n        setSelectedEnv(envList[0].id);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading environments:', error);\r\n    }\r\n  };\r\n\r\n  const loadFlags = async (projectId: string) => {\r\n    try {\r\n      const q = query(collection(db, COLLECTIONS.FEATURE_FLAGS), where('projectId', '==', projectId));\r\n      const snapshot = await getDocs(q);\r\n      const flagsList = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() })) as FeatureFlag[];\r\n      setFlags(flagsList);\r\n      \r\n      // Load flag values\r\n      const valuesQ = query(collection(db, COLLECTIONS.FLAG_VALUES));\r\n      const valuesSnapshot = await getDocs(valuesQ);\r\n      const valuesList = valuesSnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() })) as FlagValue[];\r\n      setFlagValues(valuesList);\r\n    } catch (error) {\r\n      console.error('Error loading flags:', error);\r\n    }\r\n  };\r\n\r\n  const handleCreateFlag = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!user || !project) return;\r\n\r\n    setCreating(true);\r\n    try {\r\n      await createFeatureFlag({\r\n        projectId: project.id,\r\n        name: formData.name,\r\n        key: formData.key,\r\n        description: formData.description,\r\n        flagType: formData.flagType,\r\n        defaultValue: formData.defaultValue,\r\n        createdBy: user.uid,\r\n      });\r\n\r\n      toast.success(`‚úÖ Flag \"${formData.name}\" created successfully!`);\r\n      setFormData({ name: '', key: '', description: '', flagType: 'boolean', defaultValue: false });\r\n      setShowCreateForm(false);\r\n      await loadFlags(project.id);\r\n    } catch (error: any) {\r\n      console.error('Error creating flag:', error);\r\n      toast.error(`‚ùå Failed to create flag: ${error.message}`);\r\n    } finally {\r\n      setCreating(false);\r\n    }\r\n  };\r\n  // Mount animations\r\n  useEffect(() => {\r\n    if (headerRef.current) {\r\n      fadeIn(headerRef.current, 0);\r\n    }\r\n    if (contentRef.current) {\r\n      slideInBottom(contentRef.current, 200);\r\n    }\r\n  }, []);\r\n\r\n  // Flags change animation\r\n  useEffect(() => {\r\n    const flagCards = document.querySelectorAll('.flag-card');\r\n    if (flagCards.length > 0) {\r\n      staggerFadeIn('.flag-card');\r\n    }\r\n  }, [flags]);\r\n  const toggleFlag = async (flagId: string, currentValue: boolean) => {\r\n    if (!selectedEnv || !user || !project) return;\r\n\r\n    setTogglingFlag(flagId);\r\n    try {\r\n      const flagValue = flagValues.find(fv => fv.flagId === flagId && fv.environmentId === selectedEnv);\r\n      const flag = flags.find(f => f.id === flagId);\r\n      \r\n      const newValue = !currentValue;\r\n      \r\n      if (flagValue && flag) {\r\n        \r\n        // Update flag value\r\n        await updateDoc(doc(db, COLLECTIONS.FLAG_VALUES, flagValue.id), {\r\n          enabled: newValue,\r\n          updatedAt: new Date(),\r\n        });\r\n        \r\n        // Create audit log\r\n        await createAuditLog({\r\n          organizationId: project.organizationId,\r\n          projectId: project.id,\r\n          environmentId: selectedEnv,\r\n          userId: user.uid,\r\n          userEmail: user.email || 'unknown',\r\n          action: newValue ? 'FLAG_ENABLED' : 'FLAG_DISABLED',\r\n          resourceType: 'flag',\r\n          resourceId: flagId,\r\n          resourceName: flag.name,\r\n          changes: {\r\n            before: { enabled: currentValue },\r\n            after: { enabled: newValue }\r\n          }\r\n        });\r\n      }\r\n      \r\n      toast.success(`${newValue ? '‚úÖ Flag enabled' : '‚è∏Ô∏è Flag disabled'}`);\r\n      await loadFlags(project.id);\r\n    } catch (error) {\r\n      console.error('Error toggling flag:', error);\r\n      toast.error('‚ùå Failed to toggle flag');\r\n    } finally {\r\n      setTogglingFlag(null);\r\n    }\r\n  };\r\n\r\n  const getFlagValue = (flagId: string) => {\r\n    return flagValues.find(fv => fv.flagId === flagId && fv.environmentId === selectedEnv);\r\n  };\r\n\r\n  const generateKey = (name: string) => {\r\n    return name\r\n      .toLowerCase()\r\n      .replace(/ƒü/g, 'g')\r\n      .replace(/√º/g, 'u')\r\n      .replace(/≈ü/g, 's')\r\n      .replace(/ƒ±/g, 'i')\r\n      .replace(/√∂/g, 'o')\r\n      .replace(/√ß/g, 'c')\r\n      .replace(/[^a-z0-9]+/g, '-')\r\n      .replace(/^-+|-+$/g, '');\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"text-gray-600\">Y√ºkleniyor...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!project) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100\">\r\n      {/* Dashboard Navigation */}\r\n      <DashboardNav \r\n        user={user}\r\n        organization={organization ? { name: organization.name, slug: organization.slug } : undefined}\r\n        project={project ? { name: project.name, key: project.key } : undefined}\r\n      />\r\n\r\n      <main className=\"max-w-7xl mx-auto py-8 sm:px-6 lg:px-8\">\r\n        <div className=\"px-4 sm:px-0\">\r\n          {/* Environment Selector - Modern Pills */}\r\n          <div className=\"mb-8\">\r\n            <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Environment</label>\r\n            <div className=\"flex flex-wrap gap-2\">\r\n              {environments.map((env) => (\r\n                <button\r\n                  key={env.id}\r\n                  onClick={() => setSelectedEnv(env.id)}\r\n                  className={`px-4 sm:px-6 py-2.5 rounded-full font-medium text-sm transition-all duration-200 ${\r\n                    selectedEnv === env.id\r\n                      ? 'bg-gradient-to-r from-[#0066FF] to-[#00B8D4] text-white shadow-lg shadow-[#0066FF]/30'\r\n                      : 'bg-white text-gray-700 border-2 border-gray-200 hover:border-[#0066FF]/30 hover:shadow-md'\r\n                  }`}\r\n                >\r\n                  {env.name}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Header Section */}\r\n          <div ref={headerRef} className=\"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-8\">\r\n            <div>\r\n              <h2 className=\"text-2xl sm:text-3xl font-bold text-gray-900 mb-2\">Feature Flags</h2>\r\n              <p className=\"text-gray-600\">Manage and control your feature flags</p>\r\n            </div>\r\n            <button\r\n              onClick={() => setShowCreateForm(!showCreateForm)}\r\n              className=\"w-full sm:w-auto px-6 py-3 bg-gradient-to-r from-[#0066FF] to-[#00B8D4] text-white rounded-lg hover:shadow-lg hover:shadow-[#0066FF]/40 font-semibold text-sm sm:text-base transition-all duration-300 transform hover:scale-105\"\r\n            >\r\n              {showCreateForm ? '‚úï Cancel' : '+ New Flag'}\r\n            </button>\r\n          </div>\r\n\r\n          {/* Create Form - Modern Glass Card */}\r\n          {showCreateForm && (\r\n            <div className=\"mb-8 animate-fadeIn\">\r\n              <div className=\"bg-white rounded-2xl shadow-xl p-6 sm:p-8 border border-gray-100\">\r\n                <div className=\"flex items-center justify-between mb-6\">\r\n                  <h3 className=\"text-xl font-bold text-gray-900\">Create New Feature Flag</h3>\r\n                  <button\r\n                    onClick={() => setShowCreateForm(false)}\r\n                    className=\"text-gray-400 hover:text-gray-600 transition-colors\"\r\n                  >\r\n                    <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                    </svg>\r\n                  </button>\r\n                </div>\r\n                <form onSubmit={handleCreateFlag} className=\"space-y-5\">\r\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-5\">\r\n                    <div>\r\n                      <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\r\n                        Flag Name\r\n                      </label>\r\n                      <input\r\n                        type=\"text\"\r\n                        required\r\n                        value={formData.name}\r\n                        onChange={(e) => {\r\n                          setFormData({\r\n                            ...formData,\r\n                            name: e.target.value,\r\n                            key: generateKey(e.target.value),\r\n                          });\r\n                        }}\r\n                        className=\"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0066FF] focus:border-transparent transition-all text-gray-900\"\r\n                        placeholder=\"Dark Mode\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\r\n                        Flag Key\r\n                      </label>\r\n                      <input\r\n                        type=\"text\"\r\n                        required\r\n                        value={formData.key}\r\n                        onChange={(e) => setFormData({ ...formData, key: e.target.value })}\r\n                        className=\"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0066FF] focus:border-transparent transition-all text-gray-900 font-mono text-sm\"\r\n                        placeholder=\"dark-mode\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\r\n                      Description\r\n                    </label>\r\n                    <textarea\r\n                      value={formData.description}\r\n                      onChange={(e) => setFormData({ ...formData, description: e.target.value })}\r\n                      className=\"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0066FF] focus:border-transparent transition-all text-gray-900\"\r\n                      placeholder=\"Describe what this flag controls...\"\r\n                      rows={3}\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\r\n                      Flag Type\r\n                    </label>\r\n                    <select\r\n                      value={formData.flagType}\r\n                      onChange={(e) => setFormData({ ...formData, flagType: e.target.value as any })}\r\n                      className=\"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0066FF] focus:border-transparent transition-all text-gray-900\"\r\n                    >\r\n                      <option value=\"boolean\">Boolean (true/false)</option>\r\n                      <option value=\"number\">Number</option>\r\n                      <option value=\"json\">JSON</option>\r\n                      <option value=\"multivariate\">Multivariate</option>\r\n                    </select>\r\n                  </div>\r\n                  <button\r\n                    type=\"submit\"\r\n                    disabled={creating}\r\n                    className=\"w-full px-6 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg hover:shadow-lg hover:shadow-green-500/40 font-semibold disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-[1.02]\"\r\n                  >\r\n                    {creating ? (\r\n                      <span className=\"flex items-center justify-center\">\r\n                        <svg className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                          <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                          <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                        </svg>\r\n                        Creating...\r\n                      </span>\r\n                    ) : (\r\n                      '‚úì Create Flag'\r\n                    )}\r\n                  </button>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Flags List - Modern Card Grid */}\r\n          {flags.length === 0 ? (\r\n            <div className=\"bg-white rounded-2xl shadow-xl p-12 text-center border border-gray-100\">\r\n              <div className=\"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-[#0066FF]/10 to-[#00B8D4]/10 rounded-full flex items-center justify-center\">\r\n                <span className=\"text-4xl\">üö©</span>\r\n              </div>\r\n              <h3 className=\"text-xl font-bold text-gray-900 mb-2\">No feature flags yet</h3>\r\n              <p className=\"text-gray-600 mb-6\">Get started by creating your first feature flag</p>\r\n              <button\r\n                onClick={() => setShowCreateForm(true)}\r\n                className=\"inline-flex items-center px-6 py-3 bg-gradient-to-r from-[#0066FF] to-[#00B8D4] text-white rounded-lg hover:shadow-lg hover:shadow-[#0066FF]/40 font-semibold transition-all duration-300 transform hover:scale-105\"\r\n              >\r\n                <span className=\"mr-2\">+</span>\r\n                Create Your First Flag\r\n              </button>\r\n            </div>\r\n          ) : (\r\n            <div ref={contentRef} className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n              {flags.map((flag) => {\r\n                const flagValue = getFlagValue(flag.id);\r\n                const isEnabled = flagValue?.enabled || false;\r\n                \r\n                return (\r\n                  <div \r\n                    key={flag.id}\r\n                    className=\"flag-card group bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden border border-gray-100 hover:border-[#0066FF]/30 cursor-pointer\"\r\n                    onMouseEnter={(e) => cardHover(e.currentTarget)}\r\n                    onMouseLeave={(e) => cardHoverEnd(e.currentTarget)}\r\n                  >\r\n                    {/* Card Header */}\r\n                    <div \r\n                      onClick={() => router.push(`/dashboard/${params.slug}/projects/${params.projectKey}/flags/${flag.key}`)}\r\n                      className=\"p-6 pb-4\"\r\n                    >\r\n                      <div className=\"flex justify-between items-start mb-3\">\r\n                        <div className=\"flex-1 min-w-0\">\r\n                          <h3 className=\"text-lg font-bold text-gray-900 group-hover:text-[#0066FF] transition-colors truncate mb-1\">\r\n                            {flag.name}\r\n                          </h3>\r\n                          {flag.description && (\r\n                            <p className=\"text-sm text-gray-600 line-clamp-2\">{flag.description}</p>\r\n                          )}\r\n                        </div>\r\n                        <span className={`ml-3 px-3 py-1 rounded-full text-xs font-semibold ${\r\n                          isEnabled \r\n                            ? 'bg-green-100 text-green-700' \r\n                            : 'bg-gray-100 text-gray-600'\r\n                        }`}>\r\n                          {isEnabled ? '‚óè Active' : '‚óã Inactive'}\r\n                        </span>\r\n                      </div>\r\n\r\n                      {/* Flag Key */}\r\n                      <div className=\"flex items-center space-x-2 mb-4\">\r\n                        <code className=\"text-xs font-mono text-gray-600 bg-gray-100 px-3 py-1.5 rounded-lg border border-gray-200\">\r\n                          {flag.key}\r\n                        </code>\r\n                        <span className=\"px-2 py-1 bg-blue-50 text-blue-700 text-xs font-medium rounded\">\r\n                          {flag.flagType}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Card Footer - Toggle */}\r\n                    <div className=\"px-6 py-4 bg-gray-50 border-t border-gray-100 flex items-center justify-between\">\r\n                      <span className=\"text-sm font-medium text-gray-700\">\r\n                        {togglingFlag === flag.id ? 'Updating...' : 'Toggle Flag'}\r\n                      </span>\r\n                      <button\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          toggleFlag(flag.id, isEnabled);\r\n                        }}\r\n                        disabled={togglingFlag === flag.id}\r\n                        className={`relative inline-flex h-7 w-14 items-center rounded-full transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed ${\r\n                          isEnabled \r\n                            ? 'bg-gradient-to-r from-green-500 to-green-600 shadow-lg shadow-green-500/30' \r\n                            : 'bg-gray-300'\r\n                        }`}\r\n                      >\r\n                        {togglingFlag === flag.id ? (\r\n                          <span className=\"inline-block h-5 w-5 rounded-full bg-white animate-pulse mx-auto\" />\r\n                        ) : (\r\n                          <span\r\n                            className={`inline-block h-5 w-5 transform rounded-full bg-white transition-transform shadow-md ${\r\n                              isEnabled ? 'translate-x-8' : 'translate-x-1'\r\n                            }`}\r\n                          />\r\n                        )}\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { useRouter, usePathname } from 'next/navigation';\r\nimport { signOut } from 'firebase/auth';\r\nimport { auth } from '@/lib/firebase';\r\nimport Link from 'next/link';\r\n\r\ninterface DashboardNavProps {\r\n  user?: {\r\n    email?: string | null;\r\n  } | null;\r\n  organization?: {\r\n    name: string;\r\n    slug: string;\r\n  } | null;\r\n  project?: {\r\n    name: string;\r\n    key: string;\r\n  } | null;\r\n}\r\n\r\nexport default function DashboardNav({ user, organization, project }: DashboardNavProps) {\r\n  const router = useRouter();\r\n  const pathname = usePathname();\r\n  const [sidebarOpen, setSidebarOpen] = useState(false);\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      await signOut(auth);\r\n      router.push('/login');\r\n    } catch (error) {\r\n      console.error('Logout error:', error);\r\n    }\r\n  };\r\n\r\n  const isActive = (path: string) => pathname?.includes(path);\r\n\r\n  // Navigation items based on context\r\n  const getNavItems = () => {\r\n    if (project && organization) {\r\n      // Project-level navigation\r\n      return [\r\n        {\r\n          name: 'Feature Flags',\r\n          icon: 'üö©',\r\n          href: `/dashboard/${organization.slug}/projects/${project.key}`,\r\n          active: pathname === `/dashboard/${organization.slug}/projects/${project.key}`,\r\n        },\r\n        {\r\n          name: 'Analytics',\r\n          icon: 'üìä',\r\n          href: `/dashboard/${organization.slug}/projects/${project.key}/analytics`,\r\n          active: isActive('/analytics'),\r\n        },\r\n        {\r\n          name: 'Webhooks',\r\n          icon: 'ü™ù',\r\n          href: `/dashboard/${organization.slug}/projects/${project.key}/webhooks`,\r\n          active: isActive('/webhooks'),\r\n        },\r\n        {\r\n          name: 'API Keys',\r\n          icon: 'üîë',\r\n          href: `/dashboard/${organization.slug}/projects/${project.key}/api-keys`,\r\n          active: isActive('/api-keys'),\r\n        },\r\n        {\r\n          name: 'Audit Logs',\r\n          icon: 'üìã',\r\n          href: `/dashboard/${organization.slug}/audit-logs`,\r\n          active: isActive('/audit-logs'),\r\n        },\r\n      ];\r\n    } else if (organization) {\r\n      // Organization-level navigation\r\n      return [\r\n        {\r\n          name: 'Projects',\r\n          icon: 'üì¶',\r\n          href: `/dashboard/${organization.slug}`,\r\n          active: pathname === `/dashboard/${organization.slug}`,\r\n        },\r\n        {\r\n          name: 'Audit Logs',\r\n          icon: 'üìã',\r\n          href: `/dashboard/${organization.slug}/audit-logs`,\r\n          active: isActive('/audit-logs'),\r\n        },\r\n      ];\r\n    } else {\r\n      // Root dashboard navigation\r\n      return [\r\n        {\r\n          name: 'Organizations',\r\n          icon: 'üè¢',\r\n          href: '/dashboard',\r\n          active: pathname === '/dashboard',\r\n        },\r\n      ];\r\n    }\r\n  };\r\n\r\n  const navItems = getNavItems();\r\n\r\n  return (\r\n    <>\r\n      {/* Top Navigation Bar */}\r\n      <nav className=\"bg-white/80 backdrop-blur-md shadow-sm border-b border-gray-200 sticky top-0 z-50\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex justify-between items-center h-16\">\r\n            {/* Left Section - Logo & Breadcrumbs */}\r\n            <div className=\"flex items-center space-x-3\">\r\n              {/* Mobile Menu Button */}\r\n              <button\r\n                onClick={() => setSidebarOpen(!sidebarOpen)}\r\n                className=\"lg:hidden p-2 rounded-lg text-gray-600 hover:bg-gray-100 transition-colors\"\r\n              >\r\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 12h16M4 18h16\" />\r\n                </svg>\r\n              </button>\r\n\r\n              {/* Logo */}\r\n              <Link href=\"/dashboard\" className=\"flex items-center space-x-2 group\">\r\n                <img \r\n                  src=\"/FlagShip-logo-transparent.png\" \r\n                  alt=\"Flagship Logo\" \r\n                  className=\"w-14 h-14 object-contain group-hover:scale-110 transition-transform\"\r\n                />\r\n                <div className=\"hidden sm:block\">\r\n                  <h1 className=\"text-lg font-bold bg-gradient-to-r from-[#0066FF] to-[#00B8D4] bg-clip-text text-transparent\">\r\n                    Flagship\r\n                  </h1>\r\n                </div>\r\n              </Link>\r\n\r\n              {/* Breadcrumbs */}\r\n              <div className=\"hidden md:flex items-center space-x-2 text-sm\">\r\n                {organization && (\r\n                  <>\r\n                    <span className=\"text-gray-400\">/</span>\r\n                    <Link \r\n                      href={`/dashboard/${organization.slug}`}\r\n                      className=\"text-gray-600 hover:text-[#0066FF] transition-colors font-medium truncate max-w-[150px]\"\r\n                    >\r\n                      {organization.name}\r\n                    </Link>\r\n                  </>\r\n                )}\r\n                {project && (\r\n                  <>\r\n                    <span className=\"text-gray-400\">/</span>\r\n                    <Link\r\n                      href={`/dashboard/${organization?.slug}/projects/${project.key}`}\r\n                      className=\"text-gray-600 hover:text-[#0066FF] transition-colors font-medium truncate max-w-[150px]\"\r\n                    >\r\n                      {project.name}\r\n                    </Link>\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Right Section - User Menu */}\r\n            <div className=\"flex items-center space-x-3\">\r\n              {/* User Info */}\r\n              <div className=\"hidden sm:flex items-center space-x-2 px-3 py-1.5 bg-gradient-to-r from-[#0066FF]/10 to-[#00B8D4]/10 rounded-lg\">\r\n                <div className=\"w-2 h-2 bg-green-500 rounded-full animate-pulse\"></div>\r\n                <span className=\"text-xs font-medium text-gray-700 truncate max-w-[150px]\">\r\n                  {user?.email}\r\n                </span>\r\n              </div>\r\n\r\n              {/* Logout Button */}\r\n              <button\r\n                onClick={handleLogout}\r\n                className=\"px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-red-500 to-red-600 hover:shadow-lg hover:shadow-red-500/40 rounded-lg transition-all duration-300\"\r\n              >\r\n                <span className=\"hidden sm:inline\">Sign Out</span>\r\n                <span className=\"sm:hidden\">\r\n                  <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\r\n                  </svg>\r\n                </span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n\r\n      {/* Mobile Sidebar */}\r\n      {sidebarOpen && (\r\n        <div className=\"lg:hidden fixed inset-0 z-40 bg-black/50 backdrop-blur-sm\" onClick={() => setSidebarOpen(false)}>\r\n          <div \r\n            className=\"fixed inset-y-0 left-0 w-64 bg-white shadow-xl p-6 animate-fadeIn\"\r\n            onClick={(e) => e.stopPropagation()}\r\n          >\r\n            <div className=\"flex items-center justify-between mb-8\">\r\n              <h2 className=\"text-lg font-bold text-gray-900\">Navigation</h2>\r\n              <button\r\n                onClick={() => setSidebarOpen(false)}\r\n                className=\"text-gray-400 hover:text-gray-600 transition-colors\"\r\n              >\r\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n\r\n            <nav className=\"space-y-2\">\r\n              {navItems.map((item) => (\r\n                <Link\r\n                  key={item.name}\r\n                  href={item.href}\r\n                  onClick={() => setSidebarOpen(false)}\r\n                  className={`flex items-center space-x-3 px-4 py-3 rounded-lg transition-all ${\r\n                    item.active\r\n                      ? 'bg-gradient-to-r from-[#0066FF] to-[#00B8D4] text-white shadow-lg'\r\n                      : 'text-gray-700 hover:bg-gray-100'\r\n                  }`}\r\n                >\r\n                  <span className=\"text-xl\">{item.icon}</span>\r\n                  <span className=\"font-medium\">{item.name}</span>\r\n                </Link>\r\n              ))}\r\n            </nav>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Desktop Secondary Navigation */}\r\n      {navItems.length > 1 && (\r\n        <div className=\"hidden lg:block bg-white border-b border-gray-200 sticky top-16 z-40\">\r\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n            <nav className=\"flex space-x-1 py-3\">\r\n              {navItems.map((item) => (\r\n                <Link\r\n                  key={item.name}\r\n                  href={item.href}\r\n                  className={`flex items-center space-x-2 px-4 py-2 rounded-lg transition-all font-medium text-sm ${\r\n                    item.active\r\n                      ? 'bg-gradient-to-r from-[#0066FF] to-[#00B8D4] text-white shadow-md'\r\n                      : 'text-gray-700 hover:bg-gray-100'\r\n                  }`}\r\n                >\r\n                  <span>{item.icon}</span>\r\n                  <span>{item.name}</span>\r\n                </Link>\r\n              ))}\r\n            </nav>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}