{"version":3,"sources":["../../../../../../../../../../Desktop/Proje%20Klos%C3%B6r%C3%BC/React/flagship/node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../../../../../../../Desktop/Proje%20Klos%C3%B6r%C3%BC/React/flagship/node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../../../../../../../Desktop/Proje%20Klos%C3%B6r%C3%BC/React/flagship/node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../../../../../../../Desktop/Proje%20Klos%C3%B6r%C3%BC/React/flagship/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client.ts","../../../../../../../../../../Desktop/Proje%20Klos%C3%B6r%C3%BC/React/flagship/apps/dashboard/lib/animations.ts","../../../../../../../../../../Desktop/Proje%20Klos%C3%B6r%C3%BC/React/flagship/apps/dashboard/lib/firestore.ts","../../../../../../../../../../Desktop/Proje%20Klos%C3%B6r%C3%BC/React/flagship/apps/dashboard/app/dashboard/%5Bslug%5D/projects/%5BprojectKey%5D/analytics/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactServerDOMTurbopackClient\n","// Client-side only anime.js wrapper with dynamic imports\nimport type React from 'react';\n\nconst isBrowser = typeof window !== 'undefined';\n\n// Dynamically import anime.js v3 only on client side\nlet animePromise: Promise<any> | null = null;\n\nconst loadAnime = () => {\n  if (!animePromise && isBrowser) {\n    animePromise = import('animejs').then(mod => mod.default);\n  }\n  return animePromise;\n};\n\n// Fade in animation\nexport const fadeIn = (targets: string | HTMLElement, delay = 0) => {\n  if (!isBrowser) return;\n  loadAnime()?.then((anime) => {\n    anime({\n      targets,\n      opacity: [0, 1],\n      translateY: [20, 0],\n      duration: 800,\n      delay,\n      easing: 'easeOutCubic'\n    });\n  });\n};\n\n// Fade in from left\nexport const fadeInLeft = (targets: string | HTMLElement, delay = 0) => {\n  if (!isBrowser) return;\n  loadAnime()?.then((anime) => {\n    anime({\n      targets,\n      opacity: [0, 1],\n      translateX: [-50, 0],\n      duration: 800,\n      delay,\n      easing: 'easeOutCubic'\n    });\n  });\n};\n\n// Fade in from right\nexport const fadeInRight = (targets: string | HTMLElement, delay = 0) => {\n  if (!isBrowser) return;\n  loadAnime()?.then((anime) => {\n    anime({\n      targets,\n      opacity: [0, 1],\n      translateX: [50, 0],\n      duration: 800,\n      delay,\n      easing: 'easeOutCubic'\n    });\n  });\n};\n\n// Scale in animation\nexport const scaleIn = (targets: string | HTMLElement, delay = 0) => {\n  if (!isBrowser) return;\n  loadAnime()?.then((anime) => {\n    anime({\n      targets,\n      opacity: [0, 1],\n      scale: [0.8, 1],\n      duration: 600,\n      delay,\n      easing: 'easeOutElastic(1, .6)'\n    });\n  });\n};\n\n// Stagger animation for multiple elements\nexport const staggerFadeIn = (targets: string | HTMLElement) => {\n  if (!isBrowser) return;\n  loadAnime()?.then((anime) => {\n    anime({\n      targets,\n      opacity: [0, 1],\n      translateY: [30, 0],\n      duration: 800,\n      delay: anime.stagger(100),\n      easing: 'easeOutCubic'\n    });\n  });\n};\n\n// Card hover animation\nexport const cardHover = (element: HTMLElement) => {\n  if (!isBrowser) return;\n  loadAnime()?.then((anime) => {\n    anime({\n      targets: element,\n      scale: 1.05,\n      translateY: -8,\n      duration: 300,\n      easing: 'easeOutCubic'\n    });\n  });\n};\n\n// Card hover end animation\nexport const cardHoverEnd = (element: HTMLElement) => {\n  if (!isBrowser) return;\n  loadAnime()?.then((anime) => {\n    anime({\n      targets: element,\n      scale: 1,\n      translateY: 0,\n      duration: 300,\n      easing: 'easeOutCubic'\n    });\n  });\n};\n\n// Pulse animation\nexport const pulse = (targets: string | HTMLElement) => {\n  if (!isBrowser) return;\n  loadAnime()?.then((anime) => {\n    anime({\n      targets,\n      scale: [1, 1.1, 1],\n      duration: 1000,\n      easing: 'easeInOutQuad',\n      loop: true\n    });\n  });\n};\n\n// Rotate animation\nexport const rotate = (targets: string | HTMLElement) => {\n  if (!isBrowser) return;\n  loadAnime()?.then((anime) => {\n    anime({\n      targets,\n      rotate: '1turn',\n      duration: 2000,\n      easing: 'linear',\n      loop: true\n    });\n  });\n};\n\n// Slide in from bottom\nexport const slideInBottom = (targets: string | HTMLElement, delay = 0) => {\n  if (!isBrowser) return;\n  loadAnime()?.then((anime) => {\n    anime({\n      targets,\n      opacity: [0, 1],\n      translateY: [100, 0],\n      duration: 1000,\n      delay,\n      easing: 'easeOutExpo'\n    });\n  });\n};\n\n// Bounce in\nexport const bounceIn = (targets: string | HTMLElement, delay = 0) => {\n  if (!isBrowser) return;\n  loadAnime()?.then((anime) => {\n    anime({\n      targets,\n      opacity: [0, 1],\n      scale: [0.3, 1],\n      duration: 800,\n      delay,\n      easing: 'easeOutElastic(1, .5)'\n    });\n  });\n};\n\n// Shake animation\nexport const shake = (targets: string | HTMLElement) => {\n  if (!isBrowser) return;\n  loadAnime()?.then((anime) => {\n    anime({\n      targets,\n      translateX: [\n        { value: -10, duration: 100 },\n        { value: 10, duration: 100 },\n        { value: -10, duration: 100 },\n        { value: 10, duration: 100 },\n        { value: 0, duration: 100 }\n      ],\n      easing: 'easeInOutSine'\n    });\n  });\n};\n\n// Wave animation for text\nexport const waveText = (targets: string) => {\n  if (!isBrowser) return;\n  const textWrapper = document.querySelector(targets);\n  if (textWrapper && textWrapper.textContent) {\n    textWrapper.innerHTML = textWrapper.textContent.replace(/\\S/g, \"<span class='letter'>$&</span>\");\n    \n    loadAnime()?.then((anime) => {\n      anime.timeline()\n        .add({\n          targets: `${targets} .letter`,\n          translateY: [-100, 0],\n          opacity: [0, 1],\n          easing: \"easeOutExpo\",\n          duration: 1400,\n          delay: (el: any, i: number) => 30 * i\n        });\n    });\n  }\n};\n\n// Page transition\nexport const pageTransition = (targets: string | HTMLElement) => {\n  if (!isBrowser) return;\n  loadAnime()?.then((anime) => {\n    anime.timeline()\n      .add({\n        targets,\n        opacity: [0, 1],\n        duration: 600,\n        easing: 'easeOutCubic'\n      })\n      .add({\n        targets: `${targets} > *`,\n        opacity: [0, 1],\n        translateY: [20, 0],\n        duration: 800,\n        delay: anime.stagger(100),\n        easing: 'easeOutCubic'\n      }, '-=400');\n  });\n};\n\n// Button ripple effect\nexport const buttonRipple = (e: React.MouseEvent<HTMLElement>) => {\n  if (!isBrowser) return;\n  const button = e.currentTarget;\n  const rect = button.getBoundingClientRect();\n  const x = e.clientX - rect.left;\n  const y = e.clientY - rect.top;\n  \n  const ripple = document.createElement('span');\n  ripple.style.cssText = `\n    position: absolute;\n    left: ${x}px;\n    top: ${y}px;\n    width: 0;\n    height: 0;\n    border-radius: 50%;\n    background: rgba(255, 255, 255, 0.6);\n    transform: translate(-50%, -50%);\n    pointer-events: none;\n  `;\n  \n  button.style.position = 'relative';\n  button.style.overflow = 'hidden';\n  button.appendChild(ripple);\n  \n  loadAnime()?.then((anime) => {\n    anime({\n      targets: ripple,\n      width: Math.max(rect.width, rect.height) * 2,\n      height: Math.max(rect.width, rect.height) * 2,\n      opacity: [0.6, 0],\n      duration: 600,\n      easing: 'easeOutQuad',\n      complete: () => ripple.remove()\n    });\n  });\n};\n\n// Number counter animation\nexport const animateNumber = (element: HTMLElement, target: number, duration = 2000) => {\n  if (!isBrowser) return;\n  const obj = { value: 0 };\n  loadAnime()?.then((anime) => {\n    anime({\n      targets: obj,\n      value: target,\n      duration,\n      easing: 'easeOutExpo',\n      round: 1,\n      update: () => {\n        element.textContent = obj.value.toLocaleString();\n      }\n    });\n  });\n};\n\n// Gradient animation\nexport const animateGradient = (targets: string | HTMLElement) => {\n  if (!isBrowser) return;\n  loadAnime()?.then((anime) => {\n    anime({\n      targets,\n      background: [\n        'linear-gradient(45deg, #0066FF, #00B8D4)',\n        'linear-gradient(135deg, #00B8D4, #0066FF)',\n        'linear-gradient(225deg, #0066FF, #00B8D4)',\n        'linear-gradient(315deg, #00B8D4, #0066FF)',\n        'linear-gradient(45deg, #0066FF, #00B8D4)'\n      ],\n      duration: 8000,\n      easing: 'linear',\n      loop: true\n    });\n  });\n};\n\r\n","import { \r\n  collection, \r\n  addDoc, \r\n  serverTimestamp, \r\n  doc, \r\n  setDoc,\r\n  updateDoc,\r\n  query,\r\n  where,\r\n  getDocs\r\n} from 'firebase/firestore';\r\nimport { db } from './firebase';\r\n\r\n// Collection names\r\nexport const COLLECTIONS = {\r\n  ORGANIZATIONS: 'organizations',\r\n  ORGANIZATION_MEMBERS: 'organization_members',\r\n  PROJECTS: 'projects',\r\n  ENVIRONMENTS: 'environments',\r\n  FEATURE_FLAGS: 'feature_flags',\r\n  FLAG_VALUES: 'flag_values',\r\n  API_KEYS: 'api_keys',\r\n  AUDIT_LOGS: 'audit_logs',\r\n  FLAG_ANALYTICS: 'flag_analytics',\r\n} as const;\r\n\r\n// Organization functions\r\nexport async function createOrganization(data: {\r\n  name: string;\r\n  slug: string;\r\n  createdBy: string;\r\n}) {\r\n  const orgRef = await addDoc(collection(db, COLLECTIONS.ORGANIZATIONS), {\r\n    ...data,\r\n    createdAt: serverTimestamp(),\r\n    updatedAt: serverTimestamp(),\r\n  });\r\n\r\n  // Auto-create owner membership\r\n  await setDoc(doc(db, COLLECTIONS.ORGANIZATION_MEMBERS, `${data.createdBy}_${orgRef.id}`), {\r\n    organizationId: orgRef.id,\r\n    userId: data.createdBy,\r\n    role: 'owner',\r\n    createdAt: serverTimestamp(),\r\n  });\r\n\r\n  return orgRef.id;\r\n}\r\n\r\nexport async function getUserOrganizations(userId: string) {\r\n  const membersQuery = query(\r\n    collection(db, COLLECTIONS.ORGANIZATION_MEMBERS),\r\n    where('userId', '==', userId)\r\n  );\r\n  \r\n  const membersSnap = await getDocs(membersQuery);\r\n  const orgIds = membersSnap.docs.map(doc => doc.data().organizationId);\r\n  \r\n  if (orgIds.length === 0) return [];\r\n  \r\n  const orgsQuery = query(\r\n    collection(db, COLLECTIONS.ORGANIZATIONS),\r\n    where('__name__', 'in', orgIds)\r\n  );\r\n  \r\n  const orgsSnap = await getDocs(orgsQuery);\r\n  return orgsSnap.docs.map(doc => ({ id: doc.id, ...doc.data() }));\r\n}\r\n\r\n// Project functions\r\nexport async function createProject(data: {\r\n  organizationId: string;\r\n  name: string;\r\n  key: string;\r\n  description?: string;\r\n  createdBy: string;\r\n}) {\r\n  const projectRef = await addDoc(collection(db, COLLECTIONS.PROJECTS), {\r\n    ...data,\r\n    createdAt: serverTimestamp(),\r\n    updatedAt: serverTimestamp(),\r\n  });\r\n\r\n  // Auto-create default environments\r\n  const environments = [\r\n    { name: 'Development', key: 'dev' },\r\n    { name: 'Staging', key: 'staging' },\r\n    { name: 'Production', key: 'prod' },\r\n  ];\r\n\r\n  for (const env of environments) {\r\n    await addDoc(collection(db, COLLECTIONS.ENVIRONMENTS), {\r\n      projectId: projectRef.id,\r\n      ...env,\r\n      createdAt: serverTimestamp(),\r\n      updatedAt: serverTimestamp(),\r\n    });\r\n  }\r\n\r\n  return projectRef.id;\r\n}\r\n\r\n// Feature flag functions\r\nexport async function createFeatureFlag(data: {\r\n  projectId: string;\r\n  name: string;\r\n  key: string;\r\n  description?: string;\r\n  flagType: 'boolean' | 'multivariate' | 'number' | 'json';\r\n  defaultValue: any;\r\n  tags?: string[];\r\n  createdBy: string;\r\n}) {\r\n  // Create the flag\r\n  const flagRef = await addDoc(collection(db, COLLECTIONS.FEATURE_FLAGS), {\r\n    ...data,\r\n    tags: data.tags || [],\r\n    createdAt: serverTimestamp(),\r\n    updatedAt: serverTimestamp(),\r\n  });\r\n\r\n  // Get all environments for this project\r\n  const envsQuery = query(\r\n    collection(db, COLLECTIONS.ENVIRONMENTS),\r\n    where('projectId', '==', data.projectId)\r\n  );\r\n  const envsSnap = await getDocs(envsQuery);\r\n\r\n  // Create flag_values for each environment\r\n  for (const envDoc of envsSnap.docs) {\r\n    await addDoc(collection(db, COLLECTIONS.FLAG_VALUES), {\r\n      flagId: flagRef.id,\r\n      environmentId: envDoc.id,\r\n      enabled: false,\r\n      value: data.defaultValue,\r\n      updatedAt: serverTimestamp(),\r\n    });\r\n  }\r\n\r\n  return flagRef;\r\n}\r\n\r\n// API Key functions\r\nexport async function createApiKey(data: {\r\n  environmentId: string;\r\n  name: string;\r\n  keyType: 'client' | 'server';\r\n  createdBy: string;\r\n}) {\r\n  const bcrypt = (await import('bcryptjs')).default;\r\n  \r\n  // Generate random key: fsk_{type}_{32-char-random}\r\n  const randomPart = Array.from(crypto.getRandomValues(new Uint8Array(16)))\r\n    .map(b => b.toString(16).padStart(2, '0'))\r\n    .join('');\r\n  const rawKey = `fsk_${data.keyType}_${randomPart}`;\r\n  \r\n  // Hash for storage\r\n  const keyHash = await bcrypt.hash(rawKey, 10);\r\n  \r\n  // Prefix for quick lookup (first 12 chars)\r\n  const keyPrefix = rawKey.substring(0, 12);\r\n  \r\n  // Store in Firestore\r\n  await addDoc(collection(db, COLLECTIONS.API_KEYS), {\r\n    environmentId: data.environmentId,\r\n    name: data.name,\r\n    keyPrefix,\r\n    keyHash,\r\n    keyType: data.keyType,\r\n    revoked: false,\r\n    lastUsedAt: null,\r\n    createdAt: serverTimestamp(),\r\n    createdBy: data.createdBy,\r\n  });\r\n  \r\n  // Return raw key (shown ONCE)\r\n  return rawKey;\r\n}\r\n\r\nexport async function revokeApiKey(keyId: string) {\r\n  const keyRef = doc(db, COLLECTIONS.API_KEYS, keyId);\r\n  await updateDoc(keyRef, {\r\n    revoked: true,\r\n    updatedAt: serverTimestamp(),\r\n  });\r\n}\r\n\r\nexport async function getEnvironmentApiKeys(environmentId: string) {\r\n  const q = query(\r\n    collection(db, COLLECTIONS.API_KEYS),\r\n    where('environmentId', '==', environmentId),\r\n    where('revoked', '==', false)\r\n  );\r\n  const snapshot = await getDocs(q);\r\n  return snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\r\n}\r\n\r\n// Audit Log functions (enhanced)\r\nexport async function createAuditLog(data: {\r\n  organizationId?: string;\r\n  projectId?: string;\r\n  environmentId?: string;\r\n  userId: string;\r\n  userEmail?: string;\r\n  action: string;\r\n  targetType?: string;  // kept for backward compatibility\r\n  resourceType: string;\r\n  resourceId: string;\r\n  resourceName?: string;\r\n  changes?: {\r\n    before?: any;\r\n    after?: any;\r\n  };\r\n  metadata?: Record<string, any>;\r\n  ipAddress?: string;\r\n  userAgent?: string;\r\n}) {\r\n  const logRef = await addDoc(collection(db, COLLECTIONS.AUDIT_LOGS), {\r\n    ...data,\r\n    timestamp: serverTimestamp(),\r\n    createdAt: serverTimestamp(),\r\n  });\r\n\r\n  // Trigger webhooks asynchronously (don't await to avoid slowing down audit log creation)\r\n  if (data.projectId && data.action) {\r\n    const { triggerWebhooks } = await import('./webhooks');\r\n    \r\n    // Map audit log actions to webhook events\r\n    const eventMap: Record<string, string> = {\r\n      'FLAG_CREATED': 'flag.created',\r\n      'FLAG_UPDATED': 'flag.updated',\r\n      'FLAG_DELETED': 'flag.deleted',\r\n      'FLAG_TOGGLED': 'flag.toggled',\r\n      'TARGETING_RULES_UPDATED': 'targeting.updated',\r\n    };\r\n\r\n    const event = eventMap[data.action] as any;\r\n    \r\n    if (event) {\r\n      triggerWebhooks(data.projectId, event, {\r\n        flagKey: data.metadata?.flagKey || data.resourceName,\r\n        flagName: data.resourceName,\r\n        action: data.action,\r\n        actor: data.userEmail || 'Unknown',\r\n        changes: data.changes,\r\n        before: data.changes?.before,\r\n        after: data.changes?.after,\r\n      }).catch(err => console.error('Webhook trigger error:', err));\r\n    }\r\n  }\r\n\r\n  return logRef;\r\n}\r\n\r\nexport async function getAuditLogs(organizationId: string, limit: number = 100) {\r\n  const logsQuery = query(\r\n    collection(db, COLLECTIONS.AUDIT_LOGS),\r\n    where('organizationId', '==', organizationId)\r\n  );\r\n  \r\n  const snapshot = await getDocs(logsQuery);\r\n  const logs = snapshot.docs.map(doc => ({ \r\n    id: doc.id, \r\n    ...doc.data() \r\n  }));\r\n  \r\n  // Sort by timestamp descending (newest first)\r\n  return logs.sort((a: any, b: any) => {\r\n    const aTime = a.timestamp?.toMillis() || a.createdAt?.toMillis() || 0;\r\n    const bTime = b.timestamp?.toMillis() || b.createdAt?.toMillis() || 0;\r\n    return bTime - aTime;\r\n  }).slice(0, limit);\r\n}\r\n\r\n// Analytics functions\r\nexport async function recordFlagEvaluation(data: {\r\n  flagKey: string;\r\n  flagId: string;\r\n  projectId: string;\r\n  environmentId: string;\r\n  userId?: string;\r\n  result: boolean | string | number;\r\n  targetingApplied?: boolean;\r\n}) {\r\n  return await addDoc(collection(db, COLLECTIONS.FLAG_ANALYTICS), {\r\n    ...data,\r\n    timestamp: serverTimestamp(),\r\n    createdAt: serverTimestamp(),\r\n  });\r\n}\r\n\r\nexport async function getFlagAnalytics(projectId: string, environmentId: string, days: number = 7) {\r\n  const analyticsQuery = query(\r\n    collection(db, COLLECTIONS.FLAG_ANALYTICS),\r\n    where('projectId', '==', projectId),\r\n    where('environmentId', '==', environmentId)\r\n  );\r\n  \r\n  const snapshot = await getDocs(analyticsQuery);\r\n  const analytics = snapshot.docs.map(doc => ({ \r\n    id: doc.id, \r\n    ...doc.data() \r\n  }));\r\n  \r\n  // Filter by date range (last N days)\r\n  const cutoffTime = Date.now() - (days * 24 * 60 * 60 * 1000);\r\n  \r\n  return analytics.filter((a: any) => {\r\n    const time = a.timestamp?.toMillis() || a.createdAt?.toMillis() || 0;\r\n    return time >= cutoffTime;\r\n  });\r\n}\r\n\r\nexport async function getAggregatedAnalytics(projectId: string, environmentId: string, days: number = 7) {\r\n  const analytics = await getFlagAnalytics(projectId, environmentId, days);\r\n  \r\n  // Aggregate by flag\r\n  const aggregated: Record<string, any> = {};\r\n  \r\n  analytics.forEach((entry: any) => {\r\n    const key = entry.flagKey;\r\n    \r\n    if (!aggregated[key]) {\r\n      aggregated[key] = {\r\n        flagKey: key,\r\n        flagId: entry.flagId,\r\n        evaluations: 0,\r\n        uniqueUsers: new Set(),\r\n        trueCount: 0,\r\n        falseCount: 0,\r\n        targetingAppliedCount: 0,\r\n      };\r\n    }\r\n    \r\n    aggregated[key].evaluations++;\r\n    \r\n    if (entry.userId) {\r\n      aggregated[key].uniqueUsers.add(entry.userId);\r\n    }\r\n    \r\n    if (entry.result === true) aggregated[key].trueCount++;\r\n    if (entry.result === false) aggregated[key].falseCount++;\r\n    if (entry.targetingApplied) aggregated[key].targetingAppliedCount++;\r\n  });\r\n  \r\n  // Convert Set to count\r\n  return Object.values(aggregated).map((item: any) => ({\r\n    ...item,\r\n    uniqueUsers: item.uniqueUsers.size,\r\n  }));\r\n}\r\n","'use client';\r\n\r\nimport { useEffect, useState, useRef } from 'react';\r\nimport { useParams } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport { onAuthStateChanged } from 'firebase/auth';\r\nimport { auth } from '@/lib/firebase';\r\nimport { getAggregatedAnalytics } from '@/lib/firestore';\r\nimport { fadeIn, slideInBottom, staggerFadeIn } from '@/lib/animations';\r\n\r\ninterface FlagAnalytics {\r\n  flagKey: string;\r\n  flagId: string;\r\n  evaluations: number;\r\n  uniqueUsers: number;\r\n  trueCount: number;\r\n  falseCount: number;\r\n  targetingAppliedCount: number;\r\n}\r\n\r\nexport default function AnalyticsPage() {\r\n  const params = useParams();\r\n  const [user, setUser] = useState<any>(null);\r\n  const [analytics, setAnalytics] = useState<FlagAnalytics[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [timeRange, setTimeRange] = useState(7); // days\r\n  const [projectId, setProjectId] = useState<string>('');\r\n  const [environmentId, setEnvironmentId] = useState<string>('');\r\n  const [autoRefresh, setAutoRefresh] = useState(false);\r\n  const [lastUpdated, setLastUpdated] = useState<Date | null>(null);\r\n\r\n  // Animation refs\r\n  const headerRef = useRef<HTMLDivElement>(null);\r\n  const statsRef = useRef<HTMLDivElement>(null);\r\n  const contentRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    document.title = 'Analytics | Flagship';\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = onAuthStateChanged(auth, (currentUser) => {\r\n      setUser(currentUser);\r\n    });\r\n    return () => unsubscribe();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      loadAnalytics();\r\n    }\r\n  }, [user, timeRange]);\r\n\r\n  // Auto-refresh effect\r\n  useEffect(() => {\r\n    if (autoRefresh && user) {\r\n      const interval = setInterval(() => {\r\n        loadAnalytics();\r\n      }, 5000); // Refresh every 5 seconds\r\n      \r\n      return () => clearInterval(interval);\r\n    }\r\n  }, [autoRefresh, user]);\r\n\r\n  // Auto-refresh effect\r\n  useEffect(() => {\r\n    if (autoRefresh && user) {\r\n      const interval = setInterval(() => {\r\n        loadAnalytics();\r\n      }, 5000); // Refresh every 5 seconds\r\n      \r\n      return () => clearInterval(interval);\r\n    }\r\n  }, [autoRefresh, user]);\r\n\r\n  async function loadAnalytics() {\r\n    try {\r\n      setLoading(true);\r\n      // In production, resolve these from params\r\n      const projId = params.projectKey as string;\r\n      const envId = 'production'; // Default to production environment\r\n      \r\n      console.log('üìä Analytics Query:', { projId, envId, slug: params.slug });\r\n      \r\n      setProjectId(projId);\r\n      setEnvironmentId(envId);\r\n      \r\n      const data = await getAggregatedAnalytics(projId, envId, timeRange);\r\n      console.log('üìä Analytics Data:', data);\r\n      setAnalytics(data as FlagAnalytics[]);\r\n      setLastUpdated(new Date());\r\n    } catch (error) {\r\n      console.error('Error loading analytics:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  // Mount animations\r\n  useEffect(() => {\r\n    if (headerRef.current) {\r\n      fadeIn(headerRef.current, 0);\r\n    }\r\n    if (statsRef.current) {\r\n      slideInBottom(statsRef.current, 200);\r\n    }\r\n    if (contentRef.current) {\r\n      slideInBottom(contentRef.current, 400);\r\n    }\r\n  }, [loading]);\r\n\r\n  // Analytics cards animation\r\n  useEffect(() => {\r\n    const cards = document.querySelectorAll('.analytics-card');\r\n    if (cards.length > 0) {\r\n      staggerFadeIn('.analytics-card');\r\n    }\r\n  }, [analytics]);\r\n\r\n  function getUsagePercentage(trueCount: number, falseCount: number) {\r\n    const total = trueCount + falseCount;\r\n    if (total === 0) return 0;\r\n    return Math.round((trueCount / total) * 100);\r\n  }\r\n\r\n  const totalEvaluations = analytics.reduce((sum, item) => sum + item.evaluations, 0);\r\n  const totalUniqueUsers = new Set(analytics.flatMap(() => [])).size; // Simplified\r\n  const avgEvaluationsPerFlag = analytics.length > 0 ? Math.round(totalEvaluations / analytics.length) : 0;\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 p-8\">\r\n        <div className=\"max-w-7xl mx-auto\">\r\n          <p className=\"text-gray-500\">Loading analytics...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 p-8\">\r\n      <div className=\"max-w-7xl mx-auto\">\r\n        {/* Header */}\r\n        <div ref={headerRef} className=\"mb-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <Link \r\n                href={`/dashboard/${params.slug}/projects/${params.projectKey}`}\r\n                className=\"text-blue-600 hover:text-blue-700 text-sm mb-2 inline-block\"\r\n              >\r\n                ‚Üê Back to Project\r\n              </Link>\r\n              <h1 className=\"text-3xl font-bold text-gray-900\">üìä Analytics Dashboard</h1>\r\n              <p className=\"text-gray-600 mt-2\">\r\n                Flag usage and performance metrics\r\n              </p>\r\n              {lastUpdated && (\r\n                <p className=\"text-sm text-gray-500 mt-1\">\r\n                  Last updated: {lastUpdated.toLocaleTimeString('tr-TR')}\r\n                  {autoRefresh && <span className=\"ml-2 text-green-600\">‚óè Live</span>}\r\n                </p>\r\n              )}\r\n            </div>\r\n            \r\n            <div className=\"flex gap-2\">\r\n              {/* Refresh Button */}\r\n              <button\r\n                onClick={() => loadAnalytics()}\r\n                disabled={loading}\r\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n              >\r\n                üîÑ Refresh\r\n              </button>\r\n              \r\n              {/* Auto-Refresh Toggle */}\r\n              <button\r\n                onClick={() => setAutoRefresh(!autoRefresh)}\r\n                className={`px-4 py-2 rounded-lg font-medium ${\r\n                  autoRefresh \r\n                    ? 'bg-red-600 text-white hover:bg-red-700' \r\n                    : 'bg-green-600 text-white hover:bg-green-700'\r\n                }`}\r\n              >\r\n                {autoRefresh ? '‚è∏Ô∏è Stop Auto-Refresh' : '‚ñ∂Ô∏è Auto-Refresh'}\r\n              </button>\r\n              \r\n              {/* Time Range Filter */}\r\n              <select\r\n                value={timeRange}\r\n                onChange={(e) => setTimeRange(Number(e.target.value))}\r\n                className=\"px-4 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500\"\r\n              >\r\n                <option value={1}>Last 24 hours</option>\r\n                <option value={7}>Last 7 days</option>\r\n                <option value={30}>Last 30 days</option>\r\n                <option value={90}>Last 90 days</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Summary Cards */}\r\n        <div ref={statsRef} className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\r\n          <div className=\"bg-white rounded-lg shadow p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm text-gray-600\">Total Evaluations</p>\r\n                <p className=\"text-3xl font-bold text-gray-900 mt-2\">\r\n                  {totalEvaluations.toLocaleString()}\r\n                </p>\r\n              </div>\r\n              <div className=\"text-4xl\">üìà</div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"bg-white rounded-lg shadow p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm text-gray-600\">Active Flags</p>\r\n                <p className=\"text-3xl font-bold text-gray-900 mt-2\">\r\n                  {analytics.length}\r\n                </p>\r\n              </div>\r\n              <div className=\"text-4xl\">üö©</div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"bg-white rounded-lg shadow p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm text-gray-600\">Avg Evaluations/Flag</p>\r\n                <p className=\"text-3xl font-bold text-gray-900 mt-2\">\r\n                  {avgEvaluationsPerFlag.toLocaleString()}\r\n                </p>\r\n              </div>\r\n              <div className=\"text-4xl\">‚ö°</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Flags Table */}\r\n        {analytics.length === 0 ? (\r\n          <div className=\"bg-white rounded-lg shadow p-8 text-center\">\r\n            <p className=\"text-gray-500\">No analytics data available</p>\r\n            <p className=\"text-sm text-gray-400 mt-2\">\r\n              Data will appear here as your flags are evaluated via the API\r\n            </p>\r\n          </div>\r\n        ) : (\r\n          <div ref={contentRef} className=\"bg-white rounded-lg shadow overflow-hidden\">\r\n            <table className=\"min-w-full divide-y divide-gray-200\">\r\n              <thead className=\"bg-gray-50\">\r\n                <tr>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Flag\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Evaluations\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Unique Users\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Enabled %\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Targeting Used\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Distribution\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                {analytics\r\n                  .sort((a, b) => b.evaluations - a.evaluations)\r\n                  .map((item) => {\r\n                    const enabledPct = getUsagePercentage(item.trueCount, item.falseCount);\r\n                    const targetingPct = item.evaluations > 0 \r\n                      ? Math.round((item.targetingAppliedCount / item.evaluations) * 100) \r\n                      : 0;\r\n\r\n                    return (\r\n                      <tr key={item.flagKey} className=\"analytics-card hover:bg-gray-50\">\r\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                          <div className=\"flex items-center\">\r\n                            <div className=\"text-sm font-medium text-gray-900\">\r\n                              {item.flagKey}\r\n                            </div>\r\n                          </div>\r\n                        </td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                          <div className=\"text-sm text-gray-900\">\r\n                            {item.evaluations.toLocaleString()}\r\n                          </div>\r\n                        </td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                          <div className=\"text-sm text-gray-900\">\r\n                            {item.uniqueUsers.toLocaleString()}\r\n                          </div>\r\n                        </td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                          <div className=\"flex items-center\">\r\n                            <span className=\"text-sm font-medium text-gray-900\">\r\n                              {enabledPct}%\r\n                            </span>\r\n                            <div className=\"ml-2 w-16 bg-gray-200 rounded-full h-2\">\r\n                              <div\r\n                                className=\"bg-green-500 h-2 rounded-full\"\r\n                                style={{ width: `${enabledPct}%` }}\r\n                              />\r\n                            </div>\r\n                          </div>\r\n                        </td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                          <span className={`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${\r\n                            targetingPct > 0 \r\n                              ? 'bg-blue-100 text-blue-800' \r\n                              : 'bg-gray-100 text-gray-800'\r\n                          }`}>\r\n                            {targetingPct}%\r\n                          </span>\r\n                        </td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                          <div className=\"flex gap-2\">\r\n                            <span className=\"text-green-600\">\r\n                              ‚úì {item.trueCount}\r\n                            </span>\r\n                            <span className=\"text-gray-400\">|</span>\r\n                            <span className=\"text-red-600\">\r\n                              ‚úó {item.falseCount}\r\n                            </span>\r\n                          </div>\r\n                        </td>\r\n                      </tr>\r\n                    );\r\n                  })}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n\r\n        {/* Info Box */}\r\n        <div className=\"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4\">\r\n          <div className=\"flex items-start\">\r\n            <div className=\"text-blue-600 text-xl mr-3\">üí°</div>\r\n            <div className=\"text-sm text-blue-800\">\r\n              <p className=\"font-medium\">Analytics Tracking</p>\r\n              <p className=\"mt-1\">\r\n                Every flag evaluation via the API is tracked here. Use this data to understand which features \r\n                are most used, identify unused flags for cleanup, and monitor targeting rule effectiveness.\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["module","exports","require","vendored","AppRouterContext","HooksClientContext","ServerInsertedHtml","ReactServerDOMTurbopackClient"],"mappings":"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","ignoreList":[0,1,2,3]}